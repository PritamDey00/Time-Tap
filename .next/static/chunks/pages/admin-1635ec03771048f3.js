(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(7807)}])},7807:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Admin}});var i=t(5893),s=t(7294),o=t(1163),r=t.n(o);function Admin(){var e,n;let[t,o]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[d,c]=(0,s.useState)({}),[m,u]=(0,s.useState)(!1),[h,f]=(0,s.useState)("unknown"),[p,x]=(0,s.useState)(null),[g,y]=(0,s.useState)([]),[w,b]=(0,s.useState)(null),[j,C]=(0,s.useState)(""),[k,N]=(0,s.useState)("");async function fetchMe(){try{l(!0);let e=await fetch("/api/me"),n=await e.json();if(!n.user)return r().push("/"),null;if("admin"!==n.user.name)return r().push("/dashboard"),null;return o(n.user),n.user}catch(e){return console.error("fetchMe error",e),r().push("/"),null}finally{l(!1)}}async function testNotifications(){if(!("Notification"in window)){alert("❌ This browser does not support notifications");return}if("granted"===Notification.permission)showTestNotification();else if("denied"===Notification.permission)alert("❌ Notifications are blocked. Please enable them in browser settings.");else{let e=await Notification.requestPermission();"granted"===e?showTestNotification():alert("❌ Notification permission denied")}}function showTestNotification(){try{let e=new Notification("\uD83C\uDFAF Admin Test Notification",{body:"This is a test of the enhanced notification system! Click to dismiss.",requireInteraction:!0,vibrate:[200,100,200],tag:"admin-test",icon:"/favicon.ico"});e.onclick=()=>{e.close(),alert("✅ Notification clicked successfully!")},setTimeout(()=>{e&&e.close()},1e4)}catch(e){alert("❌ Error creating notification: "+e.message)}}async function testPoints(e,n){if(!m){u(!0);try{let t={action:e};"add-points"===e||"set-points"===e?t.points=n:"set-streak"===e&&(t.streak=n);let i=await fetch("/api/admin/test-points",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(i.ok){await fetchMe();let n=await i.json();alert("✅ ".concat(e.replace("-"," ")," successful! Points: ").concat(n.user.points,", Streak: ").concat(n.user.streak))}else{let e=await i.json();alert(e.error||"Failed to update points/streak")}}catch(e){console.error("testPoints error",e),alert("Network error during points test")}finally{u(!1)}}}async function simulateScenario(e){if(!m){u(!0);try{let n=await fetch("/api/admin/simulate-confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenario:e})});if(n.ok){await fetchMe();let t=await n.json();alert({"successful-confirm":"✅ Simulated successful confirmation! Points and streak updated.","missed-window":"❌ Simulated missed window! Streak reset to 0.","build-streak":"\uD83D\uDD25 Built up streak to 5! Added 10 points.","new-user":"\uD83D\uDC64 Reset to new user state! All progress cleared."}[e]+" Points: ".concat(t.user.points,", Streak: ").concat(t.user.streak))}else{let e=await n.json();alert(e.error||"Failed to simulate scenario")}}catch(e){console.error("simulateScenario error",e),alert("Network error during scenario simulation")}finally{u(!1)}}}async function fetchUsers(){try{let e=await fetch("/api/users"),n=await e.json();y(n.users||[])}catch(e){console.error("fetchUsers error",e)}}async function deleteUser(e,n){if(m)return;let t=confirm('⚠️ DELETE USER ACCOUNT\n\nAre you sure you want to permanently delete "'.concat(n,'"?\n\nThis action cannot be undone and will:\n• Delete all user data\n• Remove from leaderboard\n• Clear all progress\n\nType "DELETE" to confirm:'));if(!t)return;let i=prompt('Type "DELETE" to confirm deletion of '.concat(n,":"));if("DELETE"!==i){alert("Deletion cancelled - verification failed");return}u(!0);try{let t=await fetch("/api/admin/manage-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete-user",userId:e})});if(t.ok)alert('✅ User "'.concat(n,'" deleted successfully')),await fetchUsers();else{let e=await t.json();alert("❌ Failed to delete user: ".concat(e.error))}}catch(e){console.error("Delete user error",e),alert("❌ Network error while deleting user")}finally{u(!1)}}async function updateUserPoints(e,n){if(!m&&j){u(!0);try{let t=await fetch("/api/admin/manage-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"set-points",userId:e,points:parseInt(j),streak:k?parseInt(k):void 0})});if(t.ok){let e=await t.json();alert("✅ Updated ".concat(n,": ").concat(e.user.points," points, ").concat(e.user.streak," streak")),await fetchUsers(),C(""),N(""),b(null)}else{let e=await t.json();alert("❌ Failed to update user: ".concat(e.error))}}catch(e){console.error("Update user error",e),alert("❌ Network error while updating user")}finally{u(!1)}}}async function resetUser(e,n){if(m)return;let t=confirm('Reset all progress for "'.concat(n,'"?\n\nThis will set:\n• Points: 0\n• Streak: 0\n• Last confirmation: None\n\nContinue?'));if(t){u(!0);try{let t=await fetch("/api/admin/manage-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reset-user",userId:e})});if(t.ok)alert("✅ Reset ".concat(n," progress successfully")),await fetchUsers();else{let e=await t.json();alert("❌ Failed to reset user: ".concat(e.error))}}catch(e){console.error("Reset user error",e),alert("❌ Network error while resetting user")}finally{u(!1)}}}return((0,s.useEffect)(()=>{fetchMe(),fetchUsers(),"Notification"in window?f(Notification.permission):f("not-supported")},[]),(0,s.useEffect)(()=>{if(t){let updateDebugInfo=()=>{c(function(e){let n=new Date,t=n.getMinutes(),i=n.getSeconds(),s=n.getMilliseconds(),o=(60*t+i)*1e3+s,r=!1,a=0,l="",d="",c=0;return o>=0&&o<6e4?(r=!0,l=":00-:01",d=":30-:31",c=n.getTime()+(6e4-o),a=0):o>=18e5&&o<186e4?(r=!0,l=":30-:31",d=":00-:01 (next hour)",c=n.getTime()+(186e4-o),a=0):o<0?(a=0-o,d=":00-:01"):o<18e5?(a=18e5-o,d=":30-:31"):(a=36e5-o,d=":00-:01 (next hour)"),{currentTime:n.toISOString(),currentClockTime:n.toLocaleTimeString(),lastConfirm:(null==e?void 0:e.lastConfirm)||"Never",currentMinutes:t,currentSeconds:i,isInWindow:r,currentWindow:l||"None",nextWindow:d,msUntilWindow:a,msUntilWindowEnd:r?Math.max(0,c-n.getTime()):0,minutesUntilWindow:Math.floor(a/6e4),secondsUntilWindow:Math.floor(a%6e4/1e3),canConfirm:r,systemType:"Clock-Synchronized (:00 and :30 every hour)"}}(t))};updateDebugInfo();let e=setInterval(updateDebugInfo,1e3);return()=>{clearInterval(e),p&&(p.pause(),p.currentTime=0)}}},[t,p]),a||!t)?(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("main",{className:"main-panel card",children:(0,i.jsx)("div",{style:{textAlign:"center",padding:"2rem"},children:a?"Loading...":"Please log in to access admin panel"})})}):(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("main",{className:"main-panel card",children:(0,i.jsxs)("div",{style:{padding:"1rem"},children:[(0,i.jsx)("h2",{children:"Admin Timer Testing Panel"}),(0,i.jsxs)("p",{children:["User: ",(0,i.jsx)("strong",{children:t.name})," | Points: ",(0,i.jsx)("strong",{children:t.points})," | Streak: ",(0,i.jsx)("strong",{children:t.streak})]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("button",{className:"btn secondary",onClick:()=>r().push("/dashboard"),disabled:m,children:"Back to Universal Classroom"}),(0,i.jsx)("button",{className:"btn secondary",onClick:()=>window.open("/test-notifications.html","_blank"),style:{marginLeft:"8px"},children:"Open Notification Test Page"})]}),(0,i.jsxs)("div",{className:"admin-section admin-clock-section",style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#e8f5e8",borderRadius:"12px",border:"2px solid #4ade80"},children:[(0,i.jsx)("h3",{style:{color:"#166534",margin:"0 0 1rem 0"},children:"⚡ Clock-Synchronized Testing"}),(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>{let e=new Date,n=30>e.getMinutes()?":30":":00 (next hour)";alert("⏰ Clock-Synchronized System Active!\n\nNext confirmation window: ".concat(n,"\nWindows open at :00 and :30 of every hour for 60 seconds."))},style:{backgroundColor:"#22c55e",color:"white"},children:"⏰ Check Next Window"}),(0,i.jsx)("button",{className:"btn",onClick:()=>{let e=new Date,n=(0===e.getMinutes()||30===e.getMinutes())&&60>e.getSeconds();if(n)alert("✅ Confirmation window is OPEN NOW! Go to Universal Classroom to confirm.");else{let n=30>e.getMinutes()?":30":":00 (next hour)";alert("⏳ No window currently open.\nNext window: ".concat(n))}},style:{backgroundColor:"#3b82f6",color:"white"},children:"\uD83D\uDD0D Check Current Status"}),(0,i.jsx)("button",{className:"btn",onClick:async()=>{if(!m){u(!0);try{let e=await fetch("/api/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t.id,clientTs:Date.now()})}),n=await e.json();e.ok?(await fetchMe(),window.showConfirmationDialog&&window.showConfirmationDialog({title:"Test Confirmation Successful!",message:"Points Awarded: ".concat(n.pointsAwarded,"\nTotal Points: ").concat(n.user.points,"\nStreak: ").concat(n.user.streak,"\n\nThis bypasses the time window for testing purposes."),type:"success",confirmText:"Great!",onConfirm:()=>{},showCancel:!1})):window.showConfirmationDialog&&window.showConfirmationDialog({title:"Test Confirmation Failed",message:n.error||"Unknown error",type:"danger",confirmText:"OK",onConfirm:()=>{},showCancel:!1})}catch(e){console.error("Test confirm error",e),window.showConfirmationDialog&&window.showConfirmationDialog({title:"Network Error",message:"Network error during test confirmation. Please check your connection.",type:"danger",confirmText:"OK",onConfirm:()=>{},showCancel:!1})}finally{u(!1)}}},disabled:m,style:{backgroundColor:"#8b5cf6",color:"white"},children:"\uD83E\uDDEA Test Confirm (Bypass Time)"}),(0,i.jsx)("button",{className:"btn",onClick:()=>{r().push("/dashboard?testConfirm=true")},disabled:m,style:{backgroundColor:"#f59e0b",color:"white"},children:"\uD83C\uDFAF Open Confirmation Window in Dashboard"})]}),(0,i.jsxs)("div",{className:"admin-description",style:{fontSize:"0.85rem",color:"#166534"},children:[(0,i.jsx)("strong",{children:"New System:"}),' Confirmation windows sync to clock at :00 and :30 of every hour (60 seconds each). Use "Test Confirm" to test without waiting.']})]}),(0,i.jsxs)("div",{className:"admin-section admin-notification-section",style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#eff6ff",borderRadius:"12px",border:"2px solid #3b82f6"},children:[(0,i.jsx)("h3",{style:{color:"#1d4ed8",margin:"0 0 1rem 0"},children:"\uD83D\uDD14 Notification & Audio Testing"}),(0,i.jsx)("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:[(0,i.jsx)("strong",{children:"Notification Status:"}),(0,i.jsx)("span",{style:{color:"granted"===h?"green":"denied"===h?"red":"orange",marginLeft:"8px"},children:"granted"===h?"✅ Enabled":"denied"===h?"❌ Blocked":"default"===h?"⚠️ Not requested":"❌ Not supported"})]})}),(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[(0,i.jsx)("button",{className:"btn",onClick:testNotifications,style:{backgroundColor:"#3b82f6",color:"white"},children:"\uD83D\uDD14 Test Notifications"}),(0,i.jsx)("button",{className:"btn",onClick:function(){if(p){p.pause(),p.currentTime=0,x(null);return}try{let e=new Audio("/music.mp3");e.volume=.3,e.loop=!0,e.play().then(()=>{x(e),alert("\uD83C\uDFB5 Background music started! Click the button again to stop.")}).catch(e=>{alert("❌ Music autoplay blocked: "+e.message+"\n\uD83D\uDCA1 Try clicking on the page first, then test music")})}catch(e){alert("❌ Error with music: "+e.message)}},style:{backgroundColor:p?"#ef4444":"#8b5cf6",color:"white"},children:p?"\uD83D\uDD07 Stop Music":"\uD83C\uDFB5 Test Music"})]}),(0,i.jsx)("div",{className:"admin-description",style:{fontSize:"0.85rem",color:"#1d4ed8",marginTop:"0.5rem"},children:"Test notifications and background music independently before testing the full confirmation flow"})]}),(0,i.jsxs)("div",{className:"admin-section admin-points-section",style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#fef7ff",borderRadius:"12px",border:"2px solid #a855f7"},children:[(0,i.jsx)("h3",{style:{color:"#7c3aed",margin:"0 0 1rem 0"},children:"\uD83C\uDFC6 Points & Streak Testing"}),(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>testPoints("add-points",1),disabled:m,style:{backgroundColor:"#10b981",color:"white"},children:"+1 Point"}),(0,i.jsx)("button",{className:"btn",onClick:()=>testPoints("add-points",5),disabled:m,style:{backgroundColor:"#10b981",color:"white"},children:"+5 Points"}),(0,i.jsx)("button",{className:"btn",onClick:()=>testPoints("set-streak",5),disabled:m,style:{backgroundColor:"#f59e0b",color:"white"},children:"Set Streak to 5"}),(0,i.jsx)("button",{className:"btn",onClick:()=>testPoints("reset-all"),disabled:m,style:{backgroundColor:"#ef4444",color:"white"},children:"Reset All"})]}),(0,i.jsx)("div",{className:"admin-description",style:{fontSize:"0.85rem",color:"#7c3aed"},children:"Test points and streak changes to see leaderboard updates"})]}),(0,i.jsxs)("div",{className:"admin-section admin-scenario-section",style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#f0fdf4",borderRadius:"12px",border:"2px solid #22c55e"},children:[(0,i.jsx)("h3",{style:{color:"#166534",margin:"0 0 1rem 0"},children:"\uD83C\uDFAD Scenario Simulation"}),(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>simulateScenario("successful-confirm"),disabled:m,style:{backgroundColor:"#22c55e",color:"white"},children:"✅ Successful Confirm"}),(0,i.jsx)("button",{className:"btn",onClick:()=>simulateScenario("missed-window"),disabled:m,style:{backgroundColor:"#f97316",color:"white"},children:"❌ Missed Window"}),(0,i.jsx)("button",{className:"btn",onClick:()=>simulateScenario("build-streak"),disabled:m,style:{backgroundColor:"#8b5cf6",color:"white"},children:"\uD83D\uDD25 Build Streak (5x)"}),(0,i.jsx)("button",{className:"btn",onClick:()=>simulateScenario("new-user"),disabled:m,style:{backgroundColor:"#6b7280",color:"white"},children:"\uD83D\uDC64 New User State"})]}),(0,i.jsx)("div",{className:"admin-description",style:{fontSize:"0.85rem",color:"#166534"},children:"Simulate different user scenarios to test various app states and behaviors"})]}),(0,i.jsxs)("div",{className:"admin-section admin-user-section",style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"#fef2f2",borderRadius:"12px",border:"2px solid #ef4444"},children:[(0,i.jsx)("h3",{style:{color:"#dc2626",margin:"0 0 1rem 0"},children:"\uD83D\uDC65 User Management"}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,i.jsxs)("h4",{style:{margin:0,fontSize:"1rem"},children:["All Users (",g.length,")"]}),(0,i.jsx)("button",{className:"btn",onClick:fetchUsers,disabled:m,style:{fontSize:"11px",padding:"4px 8px",backgroundColor:"#6b7280",color:"white"},children:"\uD83D\uDD04 Refresh"})]}),(0,i.jsxs)("div",{className:"admin-user-list",style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white"},children:[g.map(e=>(0,i.jsxs)("div",{className:"admin-user-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid #f3f4f6"},children:[(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsxs)("div",{style:{fontWeight:600,display:"flex",alignItems:"center",gap:"6px"},children:[e.name,"online"===e.onlineStatus&&(0,i.jsx)("span",{style:{fontSize:"8px",padding:"2px 4px",borderRadius:"8px",backgroundColor:"rgba(16, 185, 129, 0.1)",color:"#10b981",fontWeight:600},children:"ONLINE"})]}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:[e.points," pts • ",e.streak," streak"]})]}),(0,i.jsxs)("div",{className:"admin-user-buttons",style:{display:"flex",gap:"4px"},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>{b(e),C(e.points.toString()),N(e.streak.toString())},disabled:m,style:{fontSize:"11px",padding:"4px 8px",backgroundColor:"#3b82f6",color:"white"},children:"Edit"}),(0,i.jsx)("button",{className:"btn",onClick:()=>resetUser(e.id,e.name),disabled:m,style:{fontSize:"11px",padding:"4px 8px",backgroundColor:"#f59e0b",color:"white"},children:"Reset"}),(0,i.jsx)("button",{className:"btn",onClick:()=>deleteUser(e.id,e.name),disabled:m,style:{fontSize:"11px",padding:"4px 8px",backgroundColor:"#ef4444",color:"white"},children:"Delete"})]})]},e.id)),0===g.length&&(0,i.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"No users found"})]})]}),w&&(0,i.jsxs)("div",{className:"admin-edit-form-container",style:{padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[(0,i.jsxs)("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"1rem"},children:["Edit User: ",w.name]}),(0,i.jsxs)("div",{className:"admin-edit-form",style:{display:"flex",gap:"8px",alignItems:"end",flexWrap:"wrap"},children:[(0,i.jsxs)("div",{className:"admin-edit-inputs",style:{display:"flex",gap:"8px",flex:1},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"12px",color:"#374151",display:"block",marginBottom:"4px"},children:"Points"}),(0,i.jsx)("input",{type:"number",value:j,onChange:e=>C(e.target.value),style:{padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",width:"80px",fontSize:"14px"},min:"0"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontSize:"12px",color:"#374151",display:"block",marginBottom:"4px"},children:"Streak"}),(0,i.jsx)("input",{type:"number",value:k,onChange:e=>N(e.target.value),style:{padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",width:"80px",fontSize:"14px"},min:"0"})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,i.jsx)("button",{className:"btn",onClick:()=>updateUserPoints(w.id,w.name),disabled:m||!j,style:{backgroundColor:"#10b981",color:"white"},children:"Update"}),(0,i.jsx)("button",{className:"btn secondary",onClick:()=>{b(null),C(""),N("")},disabled:m,children:"Cancel"})]})]})]}),(0,i.jsxs)("div",{className:"admin-description",style:{fontSize:"0.85rem",color:"#dc2626",marginTop:"1rem"},children:[(0,i.jsx)("strong",{children:"⚠️ Warning:"})," User management actions are permanent and cannot be undone. Use with caution."]})]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("h3",{children:"Debug Information"}),(0,i.jsxs)("div",{className:"admin-debug-info",style:{backgroundColor:"var(--bg-secondary)",padding:"1rem",borderRadius:"8px",fontFamily:"monospace",fontSize:"0.9rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"System Type:"})," ",d.systemType]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Current Time:"})," ",d.currentTime]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Clock Time:"})," ",d.currentClockTime]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Current Minutes:"})," :",null===(e=d.currentMinutes)||void 0===e?void 0:e.toString().padStart(2,"0"),":",null===(n=d.currentSeconds)||void 0===n?void 0:n.toString().padStart(2,"0")]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Last Confirm:"})," ",d.lastConfirm]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Current Window:"})," ",(0,i.jsx)("span",{style:{color:d.isInWindow?"green":"orange"},children:d.currentWindow})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Next Window:"})," ",d.nextWindow]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Is In Window:"})," ",(0,i.jsx)("span",{style:{color:d.isInWindow?"green":"red"},children:d.isInWindow?"YES":"NO"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Can Confirm:"})," ",(0,i.jsx)("span",{style:{color:d.canConfirm?"green":"red"},children:d.canConfirm?"YES":"NO"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Time Until Next Window:"})," ",d.minutesUntilWindow,"m ",d.secondsUntilWindow,"s"]}),d.isInWindow&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Window Closes In:"})," ",Math.floor(d.msUntilWindowEnd/6e4),"m ",Math.floor(d.msUntilWindowEnd%6e4/1e3),"s"]})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("h3",{children:"⏰ Clock Information"}),(0,i.jsx)("div",{className:"admin-clock-info",style:{padding:"1rem",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #0ea5e9"},children:(0,i.jsxs)("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:[(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:"\uD83D\uDD50 Confirmation Windows:"})}),(0,i.jsxs)("div",{style:{marginLeft:"1rem",marginBottom:"0.5rem"},children:["• ",(0,i.jsx)("strong",{children:":00 - :01"})," every hour (60 seconds)"]}),(0,i.jsxs)("div",{style:{marginLeft:"1rem",marginBottom:"1rem"},children:["• ",(0,i.jsx)("strong",{children:":30 - :31"})," every hour (60 seconds)"]}),(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:"\uD83C\uDFAF How it works:"})}),(0,i.jsx)("div",{style:{marginLeft:"1rem",marginBottom:"0.5rem"},children:"• All users see the same countdown to :00 or :30"}),(0,i.jsx)("div",{style:{marginLeft:"1rem",marginBottom:"0.5rem"},children:"• No personal timers - everyone syncs to the clock"}),(0,i.jsx)("div",{style:{marginLeft:"1rem",marginBottom:"0.5rem"},children:"• Streak continues if you confirm in consecutive windows"}),(0,i.jsx)("div",{style:{marginLeft:"1rem"},children:"• Miss a window? Just wait for the next one!"})]})})]}),(0,i.jsxs)("div",{className:"admin-workflow",style:{marginTop:"2rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"8px"},children:[(0,i.jsx)("h4",{children:"\uD83C\uDFAF Testing the Clock-Synchronized System"}),(0,i.jsxs)("ol",{style:{fontSize:"0.9rem",lineHeight:"1.5"},children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Test Notifications First:"}),' Use "Test Notifications" to ensure browser permissions are working']}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Test Music:"}),' Use "Test Music" to verify audio playback works']}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Check Current Status:"}),' Use "Check Current Status" to see if a window is currently open']}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Wait for Next Window:"})," Windows open at :00 and :30 of every hour"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Go to Universal Classroom:"})," Switch to Universal Classroom to see the countdown and experience notifications"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Test Points & Streaks:"})," Use the points testing section to simulate different scenarios"]})]}),(0,i.jsxs)("div",{className:"admin-tip",style:{marginTop:"1rem",padding:"0.5rem",backgroundColor:"#fef3c7",borderRadius:"6px",fontSize:"0.85rem"},children:[(0,i.jsx)("strong",{children:"\uD83D\uDCA1 New System:"})," Everyone sees the same countdown to :00 or :30! No more personal 30-minute timers. Perfect for synchronized study sessions!"]})]})]})})})}},1163:function(e,n,t){e.exports=t(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);