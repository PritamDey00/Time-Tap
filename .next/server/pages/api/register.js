"use strict";(()=>{var e={};e.id=553,e.ids=[553],e.modules={8432:e=>{e.exports=require("bcryptjs")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1721:e=>{e.exports=import("@upstash/redis")},3292:e=>{e.exports=require("fs/promises")},1017:e=>{e.exports=require("path")},7829:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{config:()=>u,default:()=>p,routeModule:()=>l});var a=t(1802),i=t(7153),n=t(6249),o=t(9087),d=e([o]);o=(d.then?(await d)():d)[0];let p=(0,n.l)(o,"default"),u=(0,n.l)(o,"config"),l=new a.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/register",pathname:"/api/register",bundlePath:"",filename:""},userland:o});s()}catch(e){s(e)}})},9087:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>handler});var a=t(8936),i=t(7665),n=e([a]);async function handler(e,r){try{if((0,i.VX)(e,{endpoint:"register"}),"POST"!==e.method)return r.status(405).json({error:"Method not allowed",type:"method",message:"This endpoint only supports POST requests"});let{name:t,password:s}=e.body||{};if(!t||!s)throw Error("Missing name or password");let n=await (0,a.r4)({name:t,password:s}),o={id:n.id,name:n.name,points:n.points,streak:n.streak};console.log("User registered successfully:",{userId:n.id,name:n.name}),r.status(201).json({user:o})}catch(s){let t=(0,i.Ts)(e);return t.endpoint="register",(0,i.zG)(s,r,t)}}a=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})}};var r=require("../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[4222,7316,8936,7665],()=>__webpack_exec__(7829));module.exports=t})();