:root {
  --bg: #f7f7f6;
  --bg-gradient-start: #f7f7f6;
  --bg-gradient-end: #ffffff;
  --card: #ffffff;
  --card-secondary: #f8fafc;
  --muted: #9aa0a6;
  --accent: #6b7280;
  --primary: #111827;
  --soft-shadow: 0 6px 18px rgba(16, 24, 40, 0.15);
  --glass: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.2);
  --theme-primary: #3b82f6;
  --theme-secondary: #8b5cf6;
  --theme-accent: #06b6d4;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Dark theme */
:root.dark {
  --bg: #0a0e1a;
  --bg-gradient-start: #0a0e1a;
  --bg-gradient-end: #0f172a;
  --card: rgba(15, 23, 42, 0.8);
  --card-secondary: rgba(30, 41, 59, 0.6);
  --muted: #94a3b8;
  --accent: #cbd5e1;
  --primary: #f1f5f9;
  --soft-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  --glass: rgba(15, 23, 42, 0.6);
  --glass-border: rgba(71, 85, 105, 0.3);
  --theme-primary: #60a5fa;
  --theme-secondary: #a78bfa;
  --theme-accent: #22d3ee;
}

/* Dark Blue theme */
:root.dark-blue {
  --bg: #0f172a;
  --bg-gradient-start: #0f172a;
  --bg-gradient-end: #1e293b;
  --card: rgba(30, 58, 138, 0.2);
  --card-secondary: rgba(37, 99, 235, 0.1);
  --muted: #94a3b8;
  --accent: #cbd5e1;
  --primary: #f1f5f9;
  --soft-shadow: 0 8px 32px rgba(30, 58, 138, 0.2);
  --glass: rgba(30, 58, 138, 0.3);
  --glass-border: rgba(59, 130, 246, 0.3);
  --theme-primary: #3b82f6;
  --theme-secondary: #1d4ed8;
  --theme-accent: #06b6d4;
}

/* Pink theme for girls */
:root.pink {
  --bg: #fdf2f8;
  --bg-gradient-start: #fdf2f8;
  --bg-gradient-end: #fce7f3;
  --card: rgba(255, 255, 255, 0.8);
  --card-secondary: rgba(252, 231, 243, 0.6);
  --muted: #be185d;
  --accent: #ec4899;
  --primary: #831843;
  --soft-shadow: 0 8px 32px rgba(236, 72, 153, 0.15);
  --glass: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(236, 72, 153, 0.2);
  --theme-primary: #ec4899;
  --theme-secondary: #f97316;
  --theme-accent: #8b5cf6;
}

/* Yellow theme */
:root.yellow {
  --bg: #fffbeb;
  --bg-gradient-start: #fffbeb;
  --bg-gradient-end: #fef3c7;
  --card: rgba(255, 255, 255, 0.8);
  --card-secondary: rgba(254, 243, 199, 0.6);
  --muted: #92400e;
  --accent: #d97706;
  --primary: #78350f;
  --soft-shadow: 0 8px 32px rgba(217, 119, 6, 0.15);
  --glass: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(217, 119, 6, 0.2);
  --theme-primary: #f59e0b;
  --theme-secondary: #ef4444;
  --theme-accent: #10b981;
}

/* Natural Green theme */
:root.green {
  --bg: #f0fdf4;
  --bg-gradient-start: #f0fdf4;
  --bg-gradient-end: #dcfce7;
  --card: rgba(255, 255, 255, 0.8);
  --card-secondary: rgba(220, 252, 231, 0.6);
  --muted: #166534;
  --accent: #16a34a;
  --primary: #14532d;
  --soft-shadow: 0 8px 32px rgba(22, 163, 74, 0.15);
  --glass: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(22, 163, 74, 0.2);
  --theme-primary: #22c55e;
  --theme-secondary: #3b82f6;
  --theme-accent: #8b5cf6;
}

* {
  box-sizing: border-box;
}

html,
body,
#__next {
  height: 100%;
}

body {
  margin: 0;
  background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
  color: var(--primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 16px;
  line-height: 1.35;
  padding: 24px;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* Animated background particles */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 20% 80%, var(--theme-primary)15 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, var(--theme-secondary)15 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, var(--theme-accent)10 0%, transparent 50%);
  z-index: -1;
  animation: float 20s ease-in-out infinite;
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }

  33% {
    transform: translateY(-20px) rotate(1deg);
  }

  66% {
    transform: translateY(10px) rotate(-1deg);
  }
}

/* (rest of CSS unchanged from previous file) */
/* Layout */
.container {
  max-width: 1100px;
  margin: 0 auto;
  display: flex;
  gap: 24px;
  align-items: flex-start;
  justify-content: center;
  padding: 24px;
}

.card {
  background: var(--glass);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
  box-shadow: var(--soft-shadow);
  padding: 24px;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--theme-primary)50, transparent);
  opacity: 0.5;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
  border-color: var(--theme-primary)30;
}

.modern-card {
  background: var(--glass);
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
  border: 2px solid var(--glass-border);
  box-shadow: var(--soft-shadow),
    0 0 40px var(--theme-primary)10;
}

.modern-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--soft-shadow),
    0 0 60px var(--theme-primary)20,
    0 20px 60px rgba(0, 0, 0, 0.1);
}

.center {
  flex: 1;
  min-width: 260px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

/* Left/main area */
.main-panel {
  flex: 1 1 640px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 28px;
}

/* Right panel - leaderboard */
.side-panel {
  width: 380px;
  min-width: 280px;
  max-height: 76vh;
  overflow: auto;
  padding: 12px;
}

/* Clock */
.clock-wrap {
  width: 360px;
  max-width: 86vw;
  aspect-ratio: 1 / 1;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: var(--glass);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 2px solid var(--glass-border);
  box-shadow: var(--soft-shadow),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  padding: 24px;
  position: relative;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.clock-wrap::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: conic-gradient(from 0deg, var(--theme-primary)20, var(--theme-secondary)20, var(--theme-accent)20, var(--theme-primary)20);
  animation: rotate 20s linear infinite;
  z-index: -1;
}

.clock-wrap::after {
  content: '';
  position: absolute;
  inset: 2px;
  border-radius: 50%;
  background: var(--glass);
  backdrop-filter: blur(20px);
  z-index: -1;
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.clock-wrap:hover {
  transform: scale(1.02);
  box-shadow: var(--soft-shadow),
    0 0 40px var(--theme-primary)30,
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Timer */
.timer {
  margin-top: 20px;
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 20px;
  background: var(--card-secondary);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  border: 1px solid var(--glass-border);
  transition: all 0.3s ease;
}

.timer:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.timer>div:first-child {
  font-size: 18px;
  font-weight: 600;
  color: var(--primary);
  text-align: center;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.confirm-area {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  padding: 16px;
  background: linear-gradient(135deg, var(--theme-primary)10, var(--theme-secondary)10);
  border-radius: 12px;
  border: 1px solid var(--theme-primary)30;
  animation: pulse-glow 2s ease-in-out infinite;
}

@keyframes pulse-glow {

  0%,
  100% {
    box-shadow: 0 0 20px var(--theme-primary)20;
    border-color: var(--theme-primary)30;
  }

  50% {
    box-shadow: 0 0 30px var(--theme-primary)40;
    border-color: var(--theme-primary)50;
  }
}

.confirm-area .notice {
  font-weight: 600;
  color: var(--theme-primary);
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Buttons */
.btn {
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  color: white;
  padding: 12px 20px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 15px var(--theme-primary)30;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

.btn:hover::before {
  left: 100%;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px var(--theme-primary)40;
}

.btn:active {
  transform: translateY(0);
}

.btn.secondary {
  background: var(--glass);
  color: var(--primary);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.btn.secondary:hover {
  background: var(--card-secondary);
  border-color: var(--theme-primary)50;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.btn:disabled:hover {
  transform: none;
  box-shadow: none;
}

/* Enhanced Leaderboard Styling */
.leaderboard {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.leaderboard-container {
  width: 100%;
  max-height: 76vh;
  overflow-y: auto;
  padding: 4px;
  border-radius: 16px;
  background: var(--glass);
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  box-shadow: var(--soft-shadow);
}

.lb-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 16px;
  border-radius: 12px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid transparent;
  background: var(--card-secondary);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
  margin-bottom: 6px;
}

.lb-row::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, var(--theme-primary)20, transparent);
  transition: left 0.5s ease;
}

.lb-row:hover::before {
  left: 100%;
}

.lb-row:hover {
  background: var(--glass) !important;
  border-color: var(--theme-primary)30;
  transform: translateX(4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

/* Enhanced leaderboard row styling for better theming */
.leaderboard-row-enhanced {
  background: var(--card-secondary);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(15px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.leaderboard-row-enhanced:hover {
  background: var(--glass);
  border-color: var(--theme-primary)40;
  transform: translateX(6px);
  box-shadow: 0 4px 20px var(--theme-primary)25;
}

/* Current user highlighting */
.leaderboard-row-enhanced[style*="var(--theme-primary)15"] {
  background: linear-gradient(90deg, var(--theme-primary)15, var(--theme-secondary)10);
  border: 1px solid var(--theme-primary)30;
  box-shadow: 0 2px 8px var(--theme-primary)20;
}

/* Avatar enhancements */
.leaderboard-avatar-enhanced {
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px var(--theme-primary)20;
}

.leaderboard-avatar-enhanced:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 15px var(--theme-primary)40;
}

/* Status indicator enhancements */
.leaderboard-status-enhanced {
  transition: all 0.3s ease;
  box-shadow: 0 0 8px currentColor;
}

/* Username styling */
.leaderboard-username {
  transition: color 0.3s ease;
}

/* Points styling */
.leaderboard-points {
  transition: all 0.3s ease;
}

/* Status badges */
.leaderboard-status-badge {
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.leaderboard-status-badge.online {
  animation: pulse-online 2s infinite;
}

/* Anonymous badge */
.leaderboard-anonymous-badge {
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

/* Status indicator animations */
.status-indicator {
  animation: pulse-subtle 2s infinite;
}

@keyframes pulse-subtle {

  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.8;
    transform: scale(0.95);
  }
}

/* Online status specific animation */
.lb-row .status-indicator[style*="#10b981"] {
  animation: pulse-online 2s infinite;
  box-shadow: 0 0 0 2px var(--card), 0 0 8px rgba(16, 185, 129, 0.3);
}

@keyframes pulse-online {

  0%,
  100% {
    opacity: 1;
    box-shadow: 0 0 0 2px var(--card), 0 0 8px rgba(16, 185, 129, 0.3);
  }

  50% {
    opacity: 0.9;
    box-shadow: 0 0 0 2px var(--card), 0 0 12px rgba(16, 185, 129, 0.5);
  }
}

.avatar {
  width: 42px;
  height: 42px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: white;
  font-size: 14px;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px var(--theme-primary)30;
}

.avatar::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  animation: rotate 3s linear infinite;
}

.avatar:hover {
  transform: scale(1.1);
  box-shadow: 0 8px 25px var(--theme-primary)50;
}

/* Modern Login Page Styles */
.login-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  position: relative;
  overflow: hidden;
}

/* Animated background elements */
.login-bg-elements {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

.floating-element {
  position: absolute;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--theme-primary)20, var(--theme-secondary)20);
  backdrop-filter: blur(20px);
  animation: float-around 20s ease-in-out infinite;
}

.element-1 {
  width: 120px;
  height: 120px;
  top: 10%;
  left: 10%;
  animation-delay: 0s;
  animation-duration: 25s;
}

.element-2 {
  width: 80px;
  height: 80px;
  top: 20%;
  right: 15%;
  animation-delay: -5s;
  animation-duration: 30s;
}

.element-3 {
  width: 100px;
  height: 100px;
  bottom: 15%;
  left: 20%;
  animation-delay: -10s;
  animation-duration: 35s;
}

.element-4 {
  width: 60px;
  height: 60px;
  bottom: 25%;
  right: 10%;
  animation-delay: -15s;
  animation-duration: 28s;
}

@keyframes float-around {

  0%,
  100% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 0.3;
  }

  25% {
    transform: translate(30px, -20px) rotate(90deg) scale(1.1);
    opacity: 0.5;
  }

  50% {
    transform: translate(-20px, 30px) rotate(180deg) scale(0.9);
    opacity: 0.4;
  }

  75% {
    transform: translate(40px, 10px) rotate(270deg) scale(1.05);
    opacity: 0.6;
  }
}

/* Main login card */
.login-card {
  background: var(--glass);
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
  border: 2px solid var(--glass-border);
  border-radius: 24px;
  padding: 40px;
  width: 100%;
  max-width: 420px;
  box-shadow: var(--soft-shadow), 0 0 60px var(--theme-primary)10;
  position: relative;
  z-index: 1;
  transform: translateY(20px);
  opacity: 0;
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.login-card.mounted {
  transform: translateY(0);
  opacity: 1;
}

.login-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--theme-primary), var(--theme-secondary), transparent);
  border-radius: 24px 24px 0 0;
  animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {

  0%,
  100% {
    opacity: 0.5;
  }

  50% {
    opacity: 1;
  }
}

/* Header */
.login-header {
  text-align: center;
  margin-bottom: 32px;
}

.login-icon {
  margin-bottom: 20px;
}

.icon-circle {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
  position: relative;
  animation: pulse-glow 2s ease-in-out infinite;
  box-shadow: 0 8px 32px var(--theme-primary)30;
}

.icon-circle::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  z-index: -1;
  opacity: 0.3;
  animation: rotate 10s linear infinite;
}

.icon-emoji {
  font-size: 32px;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

@keyframes pulse-glow {

  0%,
  100% {
    box-shadow: 0 8px 32px var(--theme-primary)30;
    transform: scale(1);
  }

  50% {
    box-shadow: 0 12px 40px var(--theme-primary)50;
    transform: scale(1.05);
  }
}

.login-title {
  font-size: 32px;
  font-weight: 700;
  margin: 0 0 8px 0;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: text-glow 3s ease-in-out infinite;
}

@keyframes text-glow {

  0%,
  100% {
    filter: brightness(1);
  }

  50% {
    filter: brightness(1.2);
  }
}

.login-subtitle {
  color: var(--muted);
  font-size: 16px;
  margin: 0;
  opacity: 0.8;
}

/* Form */
.login-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.input-group {
  position: relative;
}

.input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.modern-input {
  width: 100%;
  padding: 16px 20px 16px 50px;
  border: 2px solid var(--glass-border);
  border-radius: 16px;
  background: var(--glass);
  backdrop-filter: blur(10px);
  color: var(--primary);
  font-size: 16px;
  font-weight: 500;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  outline: none;
}

.modern-input:focus {
  border-color: var(--theme-primary);
  box-shadow: 0 0 0 4px var(--theme-primary)20, 0 8px 25px rgba(0, 0, 0, 0.1);
  background: var(--card);
  transform: translateY(-2px);
}

.modern-input::placeholder {
  color: var(--muted);
  font-weight: 400;
}

.input-icon {
  position: absolute;
  left: 16px;
  font-size: 18px;
  opacity: 0.7;
  transition: all 0.3s ease;
  pointer-events: none;
}

.input-wrapper:focus-within .input-icon {
  opacity: 1;
  transform: scale(1.1);
}

/* Error message */
.error-message {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05));
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 12px;
  color: #dc2626;
  font-weight: 500;
  font-size: 14px;
  animation: shake 0.5s ease-in-out;
}

@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-5px);
  }

  75% {
    transform: translateX(5px);
  }
}

.error-icon {
  font-size: 16px;
}

/* Login button */
.login-btn {
  width: 100%;
  padding: 16px 24px;
  border: none;
  border-radius: 16px;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  color: white;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 25px var(--theme-primary)30;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.login-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s ease;
}

.login-btn:hover::before {
  left: 100%;
}

.login-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 35px var(--theme-primary)40;
}

.login-btn:active {
  transform: translateY(-1px);
}

.login-btn.loading {
  cursor: not-allowed;
  opacity: 0.8;
}

.btn-icon {
  font-size: 18px;
}

.loading-spinner {
  width: 18px;
  height: 18px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top: 2px solid white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* Mode toggle */
.mode-toggle {
  text-align: center;
  margin-top: 16px;
  padding: 12px;
  background: var(--card-secondary);
  border-radius: 12px;
  border: 1px solid var(--glass-border);
  transition: all 0.3s ease;
}

.mode-toggle:hover {
  background: var(--glass);
  transform: translateY(-1px);
}

.toggle-text {
  color: var(--muted);
  font-size: 14px;
  margin-right: 8px;
}

.toggle-btn {
  background: none;
  border: none;
  color: var(--theme-primary);
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.3s ease;
  padding: 4px 8px;
  border-radius: 6px;
  position: relative;
}

.toggle-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, var(--theme-primary)10, var(--theme-secondary)10);
  border-radius: 6px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.toggle-btn:hover {
  color: var(--theme-secondary);
  transform: translateY(-1px);
}

.toggle-btn:hover::before {
  opacity: 1;
}

/* Focus states for accessibility */
.modern-input:focus,
.login-btn:focus,
.toggle-btn:focus,
.theme-btn:focus {
  outline: 2px solid var(--theme-primary);
  outline-offset: 2px;
}

/* Leaderboard persistence styles */
.leaderboard-persistent {
  /* Ensure leaderboard maintains visibility during window focus changes */
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
  
  /* Prevent any transforms or transitions that might hide the leaderboard */
  transform: none !important;
  
  /* Maintain z-index to prevent other elements from covering it */
  z-index: 10;
  
  /* Ensure stable positioning */
  position: relative;
}

.leaderboard-persistent .leaderboard {
  /* Ensure the leaderboard content itself remains visible */
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

/* Prevent leaderboard from being affected by page visibility changes */
.leaderboard-persistent,
.leaderboard-persistent * {
  /* Override any visibility hidden states */
  visibility: visible !important;
}

/* Ensure leaderboard data persists across tab switches */
@media (prefers-reduced-motion: no-preference) {
  .leaderboard-persistent {
    /* Smooth transitions for data updates but maintain visibility */
    transition: background-color 0.3s ease, border-color 0.3s ease;
  }
  
  .leaderboard-persistent .lb-row {
    /* Smooth transitions for leaderboard row updates */
    transition: background-color 0.2s ease, transform 0.2s ease;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {

  .floating-element,
  .icon-circle::before,
  .login-btn::before {
    animation: none;
  }

  .login-card {
    transition: opacity 0.3s ease;
  }

  * {
    transition-duration: 0.1s !important;
    animation-duration: 0.1s !important;
  }
}

/* Enhanced Theme Selector System */
.theme-selector {
  display: flex;
  gap: 4px;
  padding: 4px;
  background: var(--glass);
  border-radius: 12px;
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  transition: all 0.3s ease;
}

.theme-selector:hover {
  border-color: var(--theme-primary)30;
  box-shadow: 0 4px 15px var(--theme-primary)20;
}

.theme-btn {
  padding: 8px 10px;
  border: none;
  border-radius: 8px;
  background: transparent;
  color: var(--primary);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: all 0.2s ease;
  min-width: 36px;
  min-height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

.theme-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--theme-primary)10, var(--theme-secondary)10);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.theme-btn.active {
  background: var(--theme-primary);
  color: white;
  box-shadow: 0 2px 8px var(--theme-primary)40;
  transform: scale(1.05);
}

.theme-btn:hover:not(.active) {
  background: var(--card-secondary);
  transform: translateY(-1px);
}

.theme-btn:hover:not(.active)::before {
  opacity: 1;
}

.theme-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.theme-btn:disabled:hover {
  transform: none;
  background: transparent;
}

/* Theme selector on login page */
.theme-selector-login {
  margin-top: 24px;
  text-align: center;
}

.theme-label {
  font-size: 14px;
  color: var(--muted);
  margin-bottom: 12px;
  font-weight: 500;
}

.theme-options {
  display: flex;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
}

.theme-options .theme-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid var(--glass-border);
  background: var(--glass);
  backdrop-filter: blur(10px);
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  position: relative;
  overflow: hidden;
  min-width: 40px;
  min-height: 40px;
}

.theme-options .theme-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--theme-primary)20, var(--theme-secondary)20);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.theme-options .theme-btn:hover {
  transform: scale(1.1);
  border-color: var(--theme-primary);
  box-shadow: 0 4px 15px var(--theme-primary)30;
}

.theme-options .theme-btn:hover::before {
  opacity: 1;
}

.theme-options .theme-btn.light {
  background: linear-gradient(135deg, #f7f7f6, #ffffff);
}

.theme-options .theme-btn.dark {
  background: linear-gradient(135deg, #0a0e1a, #0f172a);
}

.theme-options .theme-btn.dark-blue {
  background: linear-gradient(135deg, #0f172a, #1e293b);
}

.theme-options .theme-btn.pink {
  background: linear-gradient(135deg, #fdf2f8, #fce7f3);
}

.theme-options .theme-btn.yellow {
  background: linear-gradient(135deg, #fffbeb, #fef3c7);
}

.theme-options .theme-btn.green {
  background: linear-gradient(135deg, #f0fdf4, #dcfce7);
}

/* Responsive theme selector adjustments */
@media (max-width: 767px) {
  .theme-selector {
    padding: 6px;
    gap: 2px;
    justify-content: center;
    width: 100%;
  }
  
  .theme-btn {
    min-width: 32px;
    min-height: 32px;
    padding: 6px 8px;
    font-size: 12px;
  }
  
  .theme-options {
    gap: 4px;
  }
  
  .theme-options .theme-btn {
    width: 36px;
    height: 36px;
    font-size: 14px;
  }
}

@media (max-width: 480px) {
  .theme-selector {
    padding: 4px;
    gap: 1px;
  }
  
  .theme-btn {
    min-width: 28px;
    min-height: 28px;
    padding: 4px 6px;
    font-size: 11px;
  }
  
  .theme-options .theme-btn {
    width: 32px;
    height: 32px;
    font-size: 12px;
  }
}

/* Footer */
.login-footer {
  margin-top: 24px;
  text-align: center;
  padding: 16px;
  background: var(--card-secondary);
  border-radius: 12px;
  border: 1px solid var(--glass-border);
}

.footer-icon {
  font-size: 20px;
  margin-bottom: 8px;
}

.login-footer p {
  margin: 0;
  color: var(--muted);
  font-size: 12px;
  line-height: 1.4;
}

/* Legacy form styles (keeping for compatibility) */
.form {
  width: 400px;
  max-width: 90vw;
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin: 0 auto;
}

.input {
  padding: 14px 16px;
  border-radius: 12px;
  border: 2px solid var(--glass-border);
  background: var(--glass);
  backdrop-filter: blur(10px);
  color: var(--primary);
  font-size: 16px;
  transition: all 0.3s ease;
  position: relative;
}

.input:focus {
  outline: none;
  border-color: var(--theme-primary);
  box-shadow: 0 0 0 3px var(--theme-primary)20;
  background: var(--card);
}

.input::placeholder {
  color: var(--muted);
}

.header {
  text-align: center;
  margin-bottom: 16px;
}

.header h2 {
  margin: 0 0 8px 0;
  font-size: 28px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.small {
  font-size: 13px;
  color: var(--muted);
}

/* Login form button container */
.form .button-container {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

/* Login form message styling */
.form>div[style*="color:crimson"] {
  margin-top: 16px !important;
  padding: 12px 16px !important;
  background: rgba(220, 38, 38, 0.1) !important;
  border: 1px solid rgba(220, 38, 38, 0.3) !important;
  border-radius: 8px !important;
  color: #dc2626 !important;
  font-weight: 500 !important;
  text-align: center !important;
}

/* Login form footer text */
.form>div[style*="marginTop:16"] {
  margin-top: 20px !important;
  padding: 12px 16px !important;
  background: var(--card-secondary) !important;
  border-radius: 8px !important;
  text-align: center !important;
  font-size: 12px !important;
  line-height: 1.4 !important;
}

/* Desktop: buttons side by side */
@media (min-width: 768px) {
  .form .button-container {
    flex-direction: row;
    gap: 12px;
  }

  .form .button-container .btn {
    flex: 1;
    min-width: 0;
  }

  .form .button-container .btn.secondary {
    flex: 1.2;
  }
}

/* Mobile: buttons stacked */
@media (max-width: 767px) {
  .form .button-container {
    flex-direction: column;
    gap: 12px;
  }

  .form .button-container .btn {
    width: 100%;
  }
}

/* Notification styles */
.notification-banner {
  margin-top: 8px;
  padding: 8px 12px;
  background-color: #fef3c7;
  color: #92400e;
  border-radius: 6px;
  font-size: 12px;
  text-align: center;
}

.notification-banner button {
  margin-left: 8px;
  padding: 2px 8px;
  font-size: 11px;
  background-color: #d97706;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.notification-banner button:hover {
  background-color: #b45309;
}

/* Dark theme notification banner */
:root.dark .notification-banner {
  background-color: #451a03;
  color: #fbbf24;
}

:root.dark .notification-banner button {
  background-color: #f59e0b;
  color: #1f2937;
}

:root.dark .notification-banner button:hover {
  background-color: #d97706;
}

/* Enhanced Responsive Layout System */

/* Desktop-first approach with proper grid and flexbox layouts */
.container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 320px;
  grid-template-areas: "main sidebar";
  gap: 32px;
  align-items: start;
  justify-content: center;
  padding: 32px;
  min-height: calc(100vh - 64px);
}

.main-panel {
  grid-area: main;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
  min-height: 600px;
}

.side-panel {
  grid-area: sidebar;
  width: 100%;
  max-width: 320px;
  min-width: 280px;
  max-height: 80vh;
  overflow: hidden;
  padding: 16px;
  position: sticky;
  top: 32px;
}

/* Enhanced flexbox layouts for better element justification */
.flex-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
}

.flex-column {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}

.flex-row {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

/* Grid layouts for consistent spacing */
.grid-2 {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.grid-3 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}

.grid-auto {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

/* Enhanced responsive spacing system */
.spacing-xs { gap: 4px; }
.spacing-sm { gap: 8px; }
.spacing-md { gap: 16px; }
.spacing-lg { gap: 24px; }
.spacing-xl { gap: 32px; }
.spacing-2xl { gap: 48px; }

.padding-xs { padding: 4px; }
.padding-sm { padding: 8px; }
.padding-md { padding: 16px; }
.padding-lg { padding: 24px; }
.padding-xl { padding: 32px; }
.padding-2xl { padding: 48px; }

.margin-xs { margin: 4px; }
.margin-sm { margin: 8px; }
.margin-md { margin: 16px; }
.margin-lg { margin: 24px; }
.margin-xl { margin: 32px; }
.margin-2xl { margin: 48px; }

/* Responsive spacing adjustments */
@media (min-width: 1200px) {
  .spacing-lg { gap: 32px; }
  .spacing-xl { gap: 40px; }
  .spacing-2xl { gap: 64px; }
  
  .padding-lg { padding: 32px; }
  .padding-xl { padding: 40px; }
  .padding-2xl { padding: 64px; }
  
  .margin-lg { margin: 32px; }
  .margin-xl { margin: 40px; }
  .margin-2xl { margin: 64px; }
}

@media (max-width: 767px) {
  .spacing-lg { gap: 16px; }
  .spacing-xl { gap: 20px; }
  .spacing-2xl { gap: 32px; }
  
  .padding-lg { padding: 16px; }
  .padding-xl { padding: 20px; }
  .padding-2xl { padding: 32px; }
  
  .margin-lg { margin: 16px; }
  .margin-xl { margin: 20px; }
  .margin-2xl { margin: 32px; }
}

@media (max-width: 480px) {
  .spacing-md { gap: 12px; }
  .spacing-lg { gap: 14px; }
  .spacing-xl { gap: 16px; }
  .spacing-2xl { gap: 24px; }
  
  .padding-md { padding: 12px; }
  .padding-lg { padding: 14px; }
  .padding-xl { padding: 16px; }
  .padding-2xl { padding: 24px; }
  
  .margin-md { margin: 12px; }
  .margin-lg { margin: 14px; }
  .margin-xl { margin: 16px; }
  .margin-2xl { margin: 24px; }
}

/* Enhanced responsive typography */
.text-xs { font-size: 12px; line-height: 1.4; }
.text-sm { font-size: 14px; line-height: 1.4; }
.text-base { font-size: 16px; line-height: 1.5; }
.text-lg { font-size: 18px; line-height: 1.5; }
.text-xl { font-size: 20px; line-height: 1.5; }
.text-2xl { font-size: 24px; line-height: 1.4; }
.text-3xl { font-size: 30px; line-height: 1.3; }
.text-4xl { font-size: 36px; line-height: 1.2; }

@media (min-width: 1200px) {
  .text-lg { font-size: 20px; }
  .text-xl { font-size: 22px; }
  .text-2xl { font-size: 28px; }
  .text-3xl { font-size: 36px; }
  .text-4xl { font-size: 42px; }
}

@media (max-width: 767px) {
  .text-lg { font-size: 17px; }
  .text-xl { font-size: 18px; }
  .text-2xl { font-size: 20px; }
  .text-3xl { font-size: 24px; }
  .text-4xl { font-size: 28px; }
}

@media (max-width: 480px) {
  .text-base { font-size: 15px; }
  .text-lg { font-size: 16px; }
  .text-xl { font-size: 17px; }
  .text-2xl { font-size: 18px; }
  .text-3xl { font-size: 20px; }
  .text-4xl { font-size: 24px; }
}

/* Large desktop optimizations (1200px+) */
@media (min-width: 1200px) {
  .container {
    grid-template-columns: 1fr 360px;
    gap: 40px;
    padding: 40px;
  }

  .main-panel {
    padding: 40px;
  }

  .side-panel {
    max-width: 360px;
    min-width: 320px;
  }

  .clock-wrap {
    width: 400px;
  }
}

/* Medium desktop (900px - 1199px) */
@media (min-width: 900px) and (max-width: 1199px) {
  .container {
    grid-template-columns: 1fr 300px;
    gap: 28px;
    padding: 28px;
  }

  .main-panel {
    padding: 28px;
  }

  .side-panel {
    max-width: 300px;
    min-width: 260px;
  }

  .clock-wrap {
    width: 340px;
  }
}

/* Tablet layout (768px - 899px) */
@media (min-width: 768px) and (max-width: 899px) {
  .container {
    grid-template-columns: 1fr;
    grid-template-areas: 
      "main"
      "sidebar";
    gap: 24px;
    padding: 24px;
    max-width: 100%;
  }

  .main-panel {
    order: 1;
    padding: 24px;
    min-height: auto;
  }

  .side-panel {
    order: 2;
    position: static;
    max-width: 100%;
    min-width: auto;
    max-height: 400px;
    width: 100%;
  }

  .clock-wrap {
    width: 320px;
    max-width: 90vw;
  }

  /* Enhanced grid layouts for tablet */
  .grid-3 {
    grid-template-columns: repeat(2, 1fr);
  }

  .grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
}

/* Mobile layout (below 768px) */
@media (max-width: 767px) {
  .container {
    grid-template-columns: 1fr;
    grid-template-areas: 
      "main"
      "sidebar";
    gap: 20px;
    padding: 16px;
    margin: 0;
  }

  .main-panel {
    order: 1;
    padding: 20px;
    min-height: auto;
  }

  .side-panel {
    order: 2;
    position: static;
    max-width: 100%;
    min-width: auto;
    max-height: 350px;
    width: 100%;
    padding: 12px;
  }

  .clock-wrap {
    width: 280px;
    max-width: 85vw;
  }

  /* Mobile-optimized layouts */
  .flex-container {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }

  .flex-row {
    flex-direction: column;
    gap: 12px;
  }

  .grid-2,
  .grid-3 {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .grid-auto {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* Adjust spacing for mobile */
  .spacing-lg { gap: 16px; }
  .spacing-xl { gap: 20px; }
  
  .padding-lg { padding: 16px; }
  .padding-xl { padding: 20px; }
  
  .margin-lg { margin: 16px; }
  .margin-xl { margin: 20px; }
}

/* Enhanced Responsive Utilities */

/* Responsive visibility classes */
.desktop-only { display: block; }
.tablet-only { display: none; }
.mobile-only { display: none; }

@media (min-width: 768px) and (max-width: 1199px) {
  .desktop-only { display: none; }
  .tablet-only { display: block; }
  .mobile-only { display: none; }
}

@media (max-width: 767px) {
  .desktop-only { display: none; }
  .tablet-only { display: none; }
  .mobile-only { display: block; }
}

/* Responsive text alignment */
.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }

@media (max-width: 767px) {
  .text-left-mobile { text-align: left; }
  .text-center-mobile { text-align: center; }
  .text-right-mobile { text-align: right; }
}

/* Responsive width utilities */
.w-full { width: 100%; }
.w-auto { width: auto; }
.w-fit { width: fit-content; }

.max-w-xs { max-width: 320px; }
.max-w-sm { max-width: 480px; }
.max-w-md { max-width: 640px; }
.max-w-lg { max-width: 800px; }
.max-w-xl { max-width: 1024px; }
.max-w-full { max-width: 100%; }

/* Enhanced button layouts */
.btn-group {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
}

.btn-group-vertical {
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: stretch;
}

.btn-group-horizontal {
  display: flex;
  flex-direction: row;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

@media (max-width: 767px) {
  .btn-group {
    flex-direction: column;
    gap: 8px;
  }
  
  .btn-group .btn {
    width: 100%;
    justify-content: center;
  }
  
  .btn-group-horizontal {
    flex-direction: column;
    gap: 8px;
  }
}

/* Enhanced card layouts */
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 24px;
  align-items: start;
  justify-content: center;
}

@media (min-width: 1200px) {
  .card-grid {
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 32px;
  }
}

@media (max-width: 767px) {
  .card-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
}

.card-flex {
  display: flex;
  gap: 24px;
  align-items: start;
  flex-wrap: wrap;
  justify-content: center;
}

@media (min-width: 1200px) {
  .card-flex {
    gap: 32px;
  }
}

@media (max-width: 767px) {
  .card-flex {
    flex-direction: column;
    gap: 16px;
  }
}

/* Enhanced content containers */
.content-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
  width: 100%;
}

@media (min-width: 1400px) {
  .content-container {
    max-width: 1400px;
    padding: 0 32px;
  }
}

@media (max-width: 767px) {
  .content-container {
    padding: 0 16px;
  }
}

@media (max-width: 480px) {
  .content-container {
    padding: 0 12px;
  }
}

.section-container {
  margin-bottom: 48px;
}

@media (min-width: 1200px) {
  .section-container {
    margin-bottom: 64px;
  }
}

@media (max-width: 767px) {
  .section-container {
    margin-bottom: 32px;
  }
}

@media (max-width: 480px) {
  .section-container {
    margin-bottom: 24px;
  }
}

/* Enhanced form layouts */
.form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  align-items: start;
}

@media (max-width: 767px) {
  .form-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
}

.form-row {
  display: flex;
  gap: 16px;
  align-items: end;
  flex-wrap: wrap;
}

@media (max-width: 767px) {
  .form-row {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }
}

/* Enhanced navigation layouts */
.nav-horizontal {
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
}

@media (max-width: 767px) {
  .nav-horizontal {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }
}

.nav-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  align-items: center;
}

@media (max-width: 767px) {
  .nav-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }
}

/* Enhanced leaderboard width for different screen sizes */
@media (min-width: 1400px) {
  .side-panel {
    width: 420px;
    min-width: 380px;
  }
}

@media (min-width: 1200px) and (max-width: 1399px) {
  .side-panel {
    width: 380px;
    min-width: 340px;
  }
}

@media (min-width: 900px) and (max-width: 1199px) {
  .side-panel {
    width: 340px;
    min-width: 300px;
  }
}

@media (min-width: 768px) and (max-width: 899px) {
  .side-panel {
    width: 100%;
    min-width: 300px;
    max-width: 400px;
  }
}

@media (max-width: 767px) {
  .side-panel {
    width: 100% !important;
    min-width: auto !important;
    max-width: none !important;
  }
}

/* Mobile-specific improvements */
@media (max-width: 600px) {
  body {
    padding: 12px;
    /* Ensure safe area for account button */
    padding-top: max(12px, env(safe-area-inset-top, 12px));
    padding-left: max(12px, env(safe-area-inset-left, 12px));
  }

  /* Modern login page mobile improvements */
  .login-container {
    padding: 16px !important;
  }

  .login-card {
    padding: 24px !important;
    max-width: calc(100vw - 32px) !important;
    border-radius: 20px !important;
  }

  .login-title {
    font-size: 28px !important;
  }

  .login-subtitle {
    font-size: 14px !important;
  }

  .icon-circle {
    width: 70px !important;
    height: 70px !important;
  }

  .icon-emoji {
    font-size: 28px !important;
  }

  .modern-input {
    padding: 14px 18px 14px 45px !important;
    font-size: 16px !important;
  }

  .input-icon {
    left: 14px !important;
    font-size: 16px !important;
  }

  .login-btn {
    padding: 14px 20px !important;
    font-size: 15px !important;
  }

  .floating-element {
    display: none !important;
  }

  /* Legacy form styles */
  .form {
    width: 100% !important;
    max-width: calc(100vw - 24px) !important;
    margin: 0 !important;
  }

  .form .card {
    padding: 20px !important;
    margin: 0 !important;
  }

  .header h2 {
    font-size: 24px !important;
  }

  .header .small {
    font-size: 12px !important;
  }

  .container {
    padding: 8px;
    gap: 12px;
  }

  .main-panel {
    padding: 16px;
  }

  .side-panel {
    padding: 16px;
    width: 100% !important;
    min-width: auto !important;
  }

  .clock-wrap {
    width: 280px;
    max-width: 85vw;
  }

  /* Timer improvements for mobile */
  .timer {
    margin-top: 16px;
    text-align: center;
  }

  .timer>div:first-child {
    font-size: 16px;
    margin-bottom: 8px;
  }

  .confirm-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    width: 100%;
  }

  .confirm-area .notice {
    font-size: 14px;
    text-align: center;
  }

  .confirm-area button {
    width: 100%;
    max-width: 200px;
    padding: 12px 16px;
    font-size: 16px;
  }

  /* Account page mobile fixes */
  .card {
    margin: 0;
    border-radius: 12px;
  }

  /* Button groups on mobile */
  .btn+.btn {
    margin-left: 0 !important;
    margin-top: 8px;
  }

  /* Form improvements */
  .form {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 0;
    margin: 16px;
  }

  .input {
    width: 100%;
    font-size: 16px;
    /* Prevents zoom on iOS */
  }

  /* Login form button improvements for mobile */
  .form form>div[style*="display:flex"] {
    flex-direction: column !important;
    gap: 12px !important;
    margin-top: 16px !important;
  }

  .form .btn {
    width: 100% !important;
    text-align: center !important;
    justify-content: center !important;
    padding: 14px 20px !important;
    font-size: 16px !important;
  }

  /* Leaderboard mobile improvements */
  .lb-row {
    padding: 10px 8px;
    flex-wrap: nowrap;
    gap: 8px;
  }

  .avatar {
    width: 32px;
    height: 32px;
    font-size: 12px;
    flex-shrink: 0;
  }

  .status-indicator {
    width: 10px !important;
    height: 10px !important;
    bottom: -1px !important;
    right: -1px !important;
  }

  /* Hide status text on very small screens */
  .lb-row .small span:last-child {
    display: none;
  }

  /* User info text improvements */
  .small {
    font-size: 12px;
    line-height: 1.4;
  }

  /* Theme selector mobile */
  .theme-selector {
    flex-wrap: wrap !important;
    gap: 2px !important;
  }

  .theme-selector button {
    padding: 6px 8px !important;
    font-size: 12px !important;
  }

  /* Notification banner mobile */
  .notification-banner {
    font-size: 11px;
    padding: 6px 8px;
  }

  .notification-banner button {
    padding: 4px 8px;
    font-size: 10px;
  }
}

/* Account page specific mobile fixes */
@media (max-width: 600px) {

  /* Account page main container */
  .modern-card {
    margin: 8px !important;
    padding: 16px !important;
    max-width: calc(100vw - 32px) !important;
    width: calc(100vw - 32px) !important;
    box-sizing: border-box !important;
    flex-direction: column !important;
    gap: 20px !important;
  }

  /* Account sections */
  .modern-card>div {
    flex: none !important;
    min-width: auto !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Avatar and user info section */
  .modern-card div[style*="display:flex"][style*="gap:16"] {
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
    gap: 12px !important;
    padding: 16px !important;
  }

  /* Points and streak badges */
  .modern-card div[style*="display:flex"][style*="gap:16px"] {
    flex-direction: column !important;
    gap: 8px !important;
    width: 100% !important;
  }

  .modern-card div[style*="display:flex"][style*="gap:16px"]>div {
    width: 100% !important;
    text-align: center !important;
  }

  /* Button groups in account page */
  .modern-card .btn {
    display: block !important;
    width: 100% !important;
    margin: 6px 0 !important;
    text-align: center !important;
    box-sizing: border-box !important;
    max-width: 100% !important;
  }

  /* Password form */
  .modern-card form {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .modern-card form .input {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Form labels */
  .modern-card form label {
    display: block !important;
    width: 100% !important;
    margin-bottom: 8px !important;
  }

  /* Checkbox container */
  .modern-card form div[style*="display:flex"][style*="align-items:center"] {
    flex-wrap: wrap !important;
    gap: 8px !important;
    align-items: flex-start !important;
  }

  /* Note text */
  .modern-card .small[style*="color:#6b7280"] {
    text-align: center !important;
    margin-top: 12px !important;
    padding: 12px !important;
    background: rgba(107, 114, 128, 0.1) !important;
    border-radius: 8px !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  /* File input */
  .modern-card input[type="file"] {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Avatar section specific */
  .modern-card div[style*="width:96"] {
    width: 80px !important;
    height: 80px !important;
    margin: 0 auto !important;
  }

  /* Ensure no horizontal overflow */
  .modern-card * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Account page body container */
  body>div[style*="minHeight:100vh"] {
    padding: 8px !important;
    box-sizing: border-box !important;
  }

  /* Admin user management mobile improvements */
  .admin-user-item {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 8px !important;
  }

  .admin-user-buttons {
    display: flex !important;
    gap: 4px !important;
    width: 100% !important;
  }

  .admin-user-buttons button {
    flex: 1 !important;
    font-size: 10px !important;
    padding: 6px 4px !important;
  }

  .admin-edit-form {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  .admin-edit-inputs {
    display: flex !important;
    gap: 8px !important;
    margin-bottom: 8px !important;
  }

  .admin-edit-inputs>div {
    flex: 1 !important;
  }

  .admin-edit-inputs input {
    width: 100% !important;
  }
}

/* Admin panel dark mode improvements */
:root.dark .admin-section {
  background: rgba(30, 41, 59, 0.8) !important;
  border: 2px solid rgba(71, 85, 105, 0.5) !important;
  backdrop-filter: blur(10px);
}

:root.dark .admin-section h3 {
  color: #e2e8f0 !important;
}

:root.dark .admin-section .admin-description {
  color: #94a3b8 !important;
}

/* Clock-Synchronized Testing section dark mode */
:root.dark .admin-clock-section {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)) !important;
  border: 2px solid rgba(16, 185, 129, 0.3) !important;
  box-shadow: 0 8px 32px rgba(16, 185, 129, 0.1);
}

:root.dark .admin-clock-section h3 {
  color: #6ee7b7 !important;
}

:root.dark .admin-clock-section .admin-description {
  color: #a7f3d0 !important;
}

/* Notification & Audio Testing section dark mode */
:root.dark .admin-notification-section {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05)) !important;
  border: 2px solid rgba(59, 130, 246, 0.3) !important;
  box-shadow: 0 8px 32px rgba(59, 130, 246, 0.1);
}

:root.dark .admin-notification-section h3 {
  color: #93c5fd !important;
}

:root.dark .admin-notification-section .admin-description {
  color: #bfdbfe !important;
}

/* Points & Streak Testing section dark mode */
:root.dark .admin-points-section {
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(147, 51, 234, 0.05)) !important;
  border: 2px solid rgba(168, 85, 247, 0.3) !important;
  box-shadow: 0 8px 32px rgba(168, 85, 247, 0.1);
}

:root.dark .admin-points-section h3 {
  color: #c4b5fd !important;
}

:root.dark .admin-points-section .admin-description {
  color: #ddd6fe !important;
}

/* Scenario Simulation section dark mode */
:root.dark .admin-scenario-section {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(21, 128, 61, 0.05)) !important;
  border: 2px solid rgba(34, 197, 94, 0.3) !important;
  box-shadow: 0 8px 32px rgba(34, 197, 94, 0.1);
}

:root.dark .admin-scenario-section h3 {
  color: #86efac !important;
}

:root.dark .admin-scenario-section .admin-description {
  color: #bbf7d0 !important;
}

/* User Management section dark mode */
:root.dark .admin-user-section {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05)) !important;
  border: 2px solid rgba(239, 68, 68, 0.3) !important;
  box-shadow: 0 8px 32px rgba(239, 68, 68, 0.1);
}

:root.dark .admin-user-section h3 {
  color: #fca5a5 !important;
}

:root.dark .admin-user-section .admin-description {
  color: #fecaca !important;
}

/* User list dark mode */
:root.dark .admin-user-list {
  background: rgba(15, 23, 42, 0.8) !important;
  border: 1px solid rgba(71, 85, 105, 0.3) !important;
}

:root.dark .admin-user-item {
  border-bottom: 1px solid rgba(71, 85, 105, 0.2) !important;
}

:root.dark .admin-user-item:hover {
  background: rgba(30, 41, 59, 0.5) !important;
}

/* Edit form dark mode */
:root.dark .admin-edit-form-container {
  background: rgba(15, 23, 42, 0.6) !important;
  border: 1px solid rgba(71, 85, 105, 0.3) !important;
}

:root.dark .admin-edit-form input {
  background: rgba(30, 41, 59, 0.8) !important;
  border: 1px solid rgba(71, 85, 105, 0.5) !important;
  color: #e2e8f0 !important;
}

:root.dark .admin-edit-form label {
  color: #cbd5e1 !important;
}

/* Debug information dark mode */
:root.dark .admin-debug-info {
  background: rgba(15, 23, 42, 0.8) !important;
  border: 1px solid rgba(71, 85, 105, 0.3) !important;
  color: #e2e8f0 !important;
}

/* Clock information dark mode */
:root.dark .admin-clock-info {
  background: rgba(15, 23, 42, 0.6) !important;
  border: 1px solid rgba(59, 130, 246, 0.3) !important;
}

:root.dark .admin-clock-info div {
  color: #cbd5e1 !important;
}

/* Testing workflow dark mode */
:root.dark .admin-workflow {
  background: rgba(15, 23, 42, 0.6) !important;
}

:root.dark .admin-workflow h4 {
  color: #e2e8f0 !important;
}

:root.dark .admin-workflow ol {
  color: #cbd5e1 !important;
}

:root.dark .admin-workflow .admin-tip {
  background: rgba(251, 191, 36, 0.1) !important;
  color: #fbbf24 !important;
}

/* Theme-specific glow effects for dashboard and account */

/* Dark Blue theme glows */
:root.dark-blue body {
  background: linear-gradient(135deg, #0f172a, #1e293b);
}

:root.dark-blue .card {
  box-shadow: var(--soft-shadow), 0 0 40px rgba(59, 130, 246, 0.15);
}

:root.dark-blue .modern-card {
  box-shadow: var(--soft-shadow), 0 0 60px rgba(59, 130, 246, 0.2);
}

:root.dark-blue .clock-wrap {
  box-shadow: var(--soft-shadow), 0 0 50px rgba(59, 130, 246, 0.3);
}

:root.dark-blue .timer {
  background: rgba(30, 58, 138, 0.2);
  border: 1px solid rgba(59, 130, 246, 0.3);
  box-shadow: 0 8px 32px rgba(59, 130, 246, 0.1);
}

:root.dark-blue .lb-row {
  background: rgba(30, 58, 138, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.2);
}

/* Pink theme glows */
:root.pink body {
  background: linear-gradient(135deg, #fdf2f8, #fce7f3);
}

:root.pink .card {
  box-shadow: var(--soft-shadow), 0 0 40px rgba(236, 72, 153, 0.15);
}

:root.pink .modern-card {
  box-shadow: var(--soft-shadow), 0 0 60px rgba(236, 72, 153, 0.2);
}

:root.pink .clock-wrap {
  box-shadow: var(--soft-shadow), 0 0 50px rgba(236, 72, 153, 0.3);
}

:root.pink .timer {
  background: rgba(236, 72, 153, 0.1);
  border: 1px solid rgba(236, 72, 153, 0.2);
  box-shadow: 0 8px 32px rgba(236, 72, 153, 0.1);
}

:root.pink .lb-row {
  background: rgba(252, 231, 243, 0.8);
  border: 1px solid rgba(236, 72, 153, 0.2);
}

/* Yellow theme glows */
:root.yellow body {
  background: linear-gradient(135deg, #fffbeb, #fef3c7);
}

:root.yellow .card {
  box-shadow: var(--soft-shadow), 0 0 40px rgba(245, 158, 11, 0.15);
}

:root.yellow .modern-card {
  box-shadow: var(--soft-shadow), 0 0 60px rgba(245, 158, 11, 0.2);
}

:root.yellow .clock-wrap {
  box-shadow: var(--soft-shadow), 0 0 50px rgba(245, 158, 11, 0.3);
}

:root.yellow .timer {
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.2);
  box-shadow: 0 8px 32px rgba(245, 158, 11, 0.1);
}

:root.yellow .lb-row {
  background: rgba(254, 243, 199, 0.8);
  border: 1px solid rgba(245, 158, 11, 0.2);
}

/* Green theme glows */
:root.green body {
  background: linear-gradient(135deg, #f0fdf4, #dcfce7);
}

:root.green .card {
  box-shadow: var(--soft-shadow), 0 0 40px rgba(34, 197, 94, 0.15);
}

:root.green .modern-card {
  box-shadow: var(--soft-shadow), 0 0 60px rgba(34, 197, 94, 0.2);
}

:root.green .clock-wrap {
  box-shadow: var(--soft-shadow), 0 0 50px rgba(34, 197, 94, 0.3);
}

:root.green .timer {
  background: rgba(34, 197, 94, 0.1);
  border: 1px solid rgba(34, 197, 94, 0.2);
  box-shadow: 0 8px 32px rgba(34, 197, 94, 0.1);
}

:root.green .lb-row {
  background: rgba(220, 252, 231, 0.8);
  border: 1px solid rgba(34, 197, 94, 0.2);
}

/* Dark theme enhanced glows */
:root.dark body {
  background: linear-gradient(135deg, #0a0e1a, #0f172a);
}

:root.dark .card {
  box-shadow: var(--soft-shadow), 0 0 40px rgba(96, 165, 250, 0.1);
}

:root.dark .modern-card {
  box-shadow: var(--soft-shadow), 0 0 60px rgba(96, 165, 250, 0.15);
}

:root.dark .clock-wrap {
  box-shadow: var(--soft-shadow), 0 0 50px rgba(96, 165, 250, 0.2);
}

:root.dark .timer {
  background: rgba(15, 23, 42, 0.8);
  border: 1px solid rgba(71, 85, 105, 0.3);
  box-shadow: 0 8px 32px rgba(96, 165, 250, 0.1);
}

:root.dark .lb-row {
  background: rgba(30, 41, 59, 0.6);
  border: 1px solid rgba(71, 85, 105, 0.3);
}

/* Enhanced hover effects for all themes */
:root.dark-blue .card:hover,
:root.pink .card:hover,
:root.yellow .card:hover,
:root.green .card:hover {
  transform: translateY(-4px);
}

:root.dark-blue .modern-card:hover {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(59, 130, 246, 0.3);
}

:root.pink .modern-card:hover {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(236, 72, 153, 0.3);
}

:root.yellow .modern-card:hover {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(245, 158, 11, 0.3);
}

:root.green .modern-card:hover {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(34, 197, 94, 0.3);
}

/* Theme-specific notification banners */
:root.pink .notification-banner {
  background: rgba(236, 72, 153, 0.1);
  color: #be185d;
  border: 1px solid rgba(236, 72, 153, 0.2);
}

:root.yellow .notification-banner {
  background: rgba(245, 158, 11, 0.1);
  color: #92400e;
  border: 1px solid rgba(245, 158, 11, 0.2);
}

:root.green .notification-banner {
  background: rgba(34, 197, 94, 0.1);
  color: #166534;
  border: 1px solid rgba(34, 197, 94, 0.2);
}

:root.dark-blue .notification-banner {
  background: rgba(59, 130, 246, 0.1);
  color: #1d4ed8;
  border: 1px solid rgba(59, 130, 246, 0.2);
}

/* 
Modern sidebar styling */
.modern-sidebar {
  background: var(--glass);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 2px solid var(--glass-border);
  box-shadow: var(--soft-shadow),
    0 0 30px var(--theme-primary)10;
}

.modern-sidebar:hover {
  transform: translateY(-2px);
  box-shadow: var(--soft-shadow),
    0 0 40px var(--theme-primary)15,
    0 15px 40px rgba(0, 0, 0, 0.1);
}

/* Enhanced modern card hover effects */
.modern-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--soft-shadow),
    0 0 60px var(--theme-primary)20,
    0 20px 60px rgba(0, 0, 0, 0.1);
}

/* Addition
al mobile fixes for account page */
@media (max-width: 480px) {

  /* Extra small screens */
  .modern-card {
    margin: 4px !important;
    padding: 12px !important;
    max-width: calc(100vw - 24px) !important;
    width: calc(100vw - 24px) !important;
  }

  /* Smaller avatar on very small screens */
  .modern-card div[style*="width:96"] {
    width: 64px !important;
    height: 64px !important;
  }

  /* Smaller font sizes for very small screens */
  .modern-card h3 {
    font-size: 20px !important;
  }

  .modern-card h4 {
    font-size: 18px !important;
  }

  /* Ensure buttons don't overflow */
  .modern-card .btn {
    font-size: 14px !important;
    padding: 10px 16px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  /* Modern login for very small screens */
  .login-card {
    padding: 20px !important;
    max-width: calc(100vw - 16px) !important;
    border-radius: 16px !important;
  }

  .login-title {
    font-size: 24px !important;
  }

  .login-subtitle {
    font-size: 13px !important;
  }

  .icon-circle {
    width: 60px !important;
    height: 60px !important;
  }

  .icon-emoji {
    font-size: 24px !important;
  }

  .modern-input {
    padding: 12px 16px 12px 40px !important;
    font-size: 16px !important;
  }

  .input-icon {
    left: 12px !important;
    font-size: 14px !important;
  }

  .login-btn {
    padding: 12px 18px !important;
    font-size: 14px !important;
  }

  .login-footer {
    margin-top: 20px !important;
    padding: 12px !important;
  }

  .theme-selector-login {
    margin-top: 20px !important;
  }

  .theme-label {
    font-size: 13px !important;
    margin-bottom: 10px !important;
  }

  .theme-btn {
    width: 36px !important;
    height: 36px !important;
    font-size: 14px !important;
  }

  /* Legacy form styles */
  .form {
    width: 100% !important;
    max-width: calc(100vw - 16px) !important;
    padding: 0 !important;
  }

  .form .input {
    padding: 12px 14px !important;
    font-size: 16px !important;
  }

  .form .btn {
    padding: 12px 16px !important;
    font-size: 14px !important;
  }

  .header h2 {
    font-size: 22px !important;
  }
}

/* Prevent horizontal scroll on all mobile devices */
@media (max-width: 600px) {

  html,
  body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }
}

/* Account button mobile display fixes - global overrides */
@media (max-width: 768px) {
  /* Ensure account button area is always clear */
  .page-header,
  .header-content,
  .login-container,
  .container,
  .classrooms-page {
    /* Add top padding to prevent overlap with account button */
    padding-top: max(80px, calc(env(safe-area-inset-top, 16px) + 64px)) !important;
  }
  
  /* Specific fixes for pages that use AccountButton */
  .login-card,
  .modern-card {
    /* Ensure cards don't overlap with account button */
    margin-top: max(20px, calc(env(safe-area-inset-top, 16px) + 4px)) !important;
  }
  
  /* Prevent any fixed positioned elements from conflicting */
  [style*="position: fixed"]:not(.account-button) {
    /* Ensure other fixed elements don't overlap */
    z-index: 998 !important;
  }
  
  /* Ensure proper spacing for mobile navigation */
  .header-actions,
  .theme-selector {
    /* Account for account button space */
    margin-top: 8px !important;
  }
}

/* Account button safe area and accessibility improvements */
@media (max-width: 768px) {
  /* iOS notch and safe area support */
  @supports (padding: max(0px)) {
    body {
      padding-top: max(12px, env(safe-area-inset-top)) !important;
      padding-left: max(12px, env(safe-area-inset-left)) !important;
      padding-right: max(12px, env(safe-area-inset-right)) !important;
    }
  }
  
  /* Ensure minimum touch target size for accessibility */
  .account-button {
    min-width: 44px !important;
    min-height: 44px !important;
  }
  
  /* Prevent account button from being affected by transforms */
  .account-button {
    transform: none !important;
    will-change: auto !important;
  }
  
  /* Ensure account button is always on top */
  .account-button {
    z-index: 999999 !important;
    position: fixed !important;
  }
}

/* High contrast and accessibility improvements */
@media (prefers-contrast: high) {
  .account-button {
    border-width: 3px !important;
    box-shadow: 0 0 0 2px var(--primary) !important;
  }
}

/* Reduced motion preferences for account button */
@media (prefers-reduced-motion: reduce) {
  .account-button,
  .account-button * {
    animation: none !important;
    transition: none !important;
  }
  
  .account-button:hover {
    transform: none !important;
  }
}

/* Desktop-specific improvements for account page password form */
@media (min-width: 768px) {

  /* Password form container improvements for desktop */
  .modern-card form {
    display: flex;
    flex-direction: column;
    gap: 20px;
    max-width: 400px;
  }

  /* Password input fields side by side on larger screens */
  .modern-card form>div:not(:last-child):not([style*="display:flex"]) {
    margin-bottom: 0;
  }

  /* Create a grid layout for password inputs on desktop */
  .modern-card form .password-inputs-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }

  /* Individual password input styling */
  .modern-card form .password-input-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  /* Better spacing for labels */
  .modern-card form .password-input-group label {
    font-weight: 600;
    color: var(--primary);
    font-size: 14px;
  }

  /* Enhanced input styling for desktop */
  .modern-card form .password-input-group .input {
    min-height: 48px;
    padding: 12px 16px;
    border-radius: 10px;
    border: 2px solid var(--glass-border);
    background: var(--glass);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
  }

  .modern-card form .password-input-group .input:focus {
    border-color: var(--theme-primary);
    box-shadow: 0 0 0 3px var(--theme-primary)20;
    background: var(--card);
  }

  /* Checkbox and button container */
  .modern-card form .form-actions {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: flex-start;
  }

  /* Checkbox styling */
  .modern-card form .checkbox-container {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  /* Button container */
  .modern-card form .button-container {
    display: flex;
    gap: 12px;
    align-items: center;
  }

  /* Change password button styling */
  .modern-card form .btn[type="submit"] {
    min-width: 160px;
    padding: 12px 24px;
    font-weight: 600;
  }
}

/* D
esktop password form layout - labels above, inputs side by side */
@media (min-width: 768px) {

  /* Password form container */
  .modern-card form {
    max-width: 500px;
  }

  /* Labels container - positioned above the inputs in a grid */
  .modern-card form .password-labels-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 8px;
  }

  .modern-card form .password-labels-container label {
    font-weight: 600;
    color: var(--primary);
    font-size: 14px;
    margin-bottom: 0;
  }

  /* Input fields container - two inputs side by side */
  .modern-card form .password-inputs-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }

  /* Individual password input styling for desktop */
  .modern-card form .password-inputs-container .input {
    min-height: 48px;
    padding: 12px 16px;
    border-radius: 10px;
    border: 2px solid var(--glass-border);
    background: var(--glass);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
  }

  .modern-card form .password-inputs-container .input:focus {
    border-color: var(--theme-primary);
    box-shadow: 0 0 0 3px var(--theme-primary)20;
    background: var(--card);
  }

  /* Hide individual input groups on desktop (we use separate containers) */
  .modern-card form .password-input-group {
    display: none !important;
  }

  /* Form actions styling */
  .modern-card form .form-actions {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: flex-start;
  }

  .modern-card form .checkbox-container {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .modern-card form .button-container {
    display: flex;
    gap: 12px;
    align-items: center;
  }

  .modern-card form .btn[type="submit"] {
    min-width: 160px;
    padding: 12px 24px;
    font-weight: 600;
  }
}

/* Desktop password form - horizontal label-input layout */
@media (min-width: 768px) {

  /* Override previous desktop styles */
  .modern-card form .password-labels-container,
  .modern-card form .password-inputs-container {
    display: none !important;
  }

  /* Desktop password rows - label to the left of input */
  .modern-card form .password-desktop-row {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 16px;
  }

  /* Label styling - fixed width for perfect alignment */
  .modern-card form .password-desktop-row label {
    font-weight: 600;
    color: var(--primary);
    font-size: 16px;
    min-width: 180px;
    text-align: left;
    margin-bottom: 0;
    flex-shrink: 0;
  }

  /* Input styling - takes remaining space */
  .modern-card form .password-desktop-row .input {
    flex: 1;
    min-height: 48px;
    padding: 12px 16px;
    border-radius: 10px;
    border: 2px solid var(--glass-border);
    background: var(--glass);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    font-size: 16px;
    max-width: 300px;
  }

  .modern-card form .password-desktop-row .input:focus {
    border-color: var(--theme-primary);
    box-shadow: 0 0 0 3px var(--theme-primary)20;
    background: var(--card);
  }
}

/* Mobile: Hide desktop password rows */
@media (max-width: 767px) {
  .modern-card form .password-desktop-row {
    display: none !important;
  }
}

/* Modern file upload styling */
.modern-file-upload {
  position: relative;
  display: inline-block;
  width: 100%;
  margin-top: 8px;
}

.modern-file-upload input[type="file"] {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
  z-index: 2;
  top: 0;
  left: 0;
  border-radius: 12px;
}

.modern-file-upload .file-upload-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 20px;
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  color: white;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 15px var(--theme-primary)30;
  width: 100%;
  min-height: 48px;
  pointer-events: none;
}

.modern-file-upload .file-upload-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

.modern-file-upload:hover .file-upload-button::before {
  left: 100%;
}

.modern-file-upload:hover .file-upload-button {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px var(--theme-primary)40;
}

.modern-file-upload .file-upload-button .upload-icon {
  font-size: 16px;
}

.modern-file-upload .file-upload-button .upload-text {
  flex: 1;
  text-align: center;
}

/* File upload status */
.file-upload-status {
  margin-top: 8px;
  padding: 8px 12px;
  background: var(--card-secondary);
  border-radius: 8px;
  border: 1px solid var(--glass-border);
  font-size: 12px;
  color: var(--muted);
  display: flex;
  align-items: center;
  gap: 6px;
}

.file-upload-status.uploading {
  color: var(--theme-primary);
  background: linear-gradient(135deg, var(--theme-primary)10, var(--theme-secondary)10);
  border-color: var(--theme-primary)30;
}

.file-upload-status .status-icon {
  font-size: 14px;
}

/* Drag and drop styling */
.modern-file-upload.drag-over .file-upload-button {
  background: linear-gradient(135deg, var(--theme-secondary), var(--theme-accent));
  transform: scale(1.02);
  box-shadow: 0 8px 30px var(--theme-secondary)50;
}

/* Theme-aware Custom Scrollbar Styling */

/* Base scrollbar styles for all themes */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--card-secondary);
  border-radius: 4px;
  margin: 2px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--theme-primary)60, var(--theme-secondary)60);
  border-radius: 4px;
  border: 1px solid var(--glass-border);
  transition: all 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--theme-primary)80, var(--theme-secondary)80);
  box-shadow: 0 2px 8px var(--theme-primary)30;
}

::-webkit-scrollbar-thumb:active {
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
  box-shadow: 0 2px 12px var(--theme-primary)50;
}

::-webkit-scrollbar-corner {
  background: var(--card-secondary);
}

/* Firefox scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--theme-primary)60 var(--card-secondary);
}

/* Light theme scrollbar enhancements */
:root:not(.dark):not(.dark-blue):not(.pink):not(.yellow):not(.green) ::-webkit-scrollbar-track {
  background: rgba(247, 247, 246, 0.8);
  backdrop-filter: blur(10px);
}

:root:not(.dark):not(.dark-blue):not(.pink):not(.yellow):not(.green) ::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.6), rgba(139, 92, 246, 0.6));
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Dark theme scrollbar */
:root.dark ::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(10px);
}

:root.dark ::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.7), rgba(167, 139, 250, 0.7));
  border: 1px solid rgba(71, 85, 105, 0.3);
}

:root.dark ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(167, 139, 250, 0.9));
  box-shadow: 0 2px 8px rgba(96, 165, 250, 0.3);
}

/* Dark Blue theme scrollbar */
:root.dark-blue ::-webkit-scrollbar-track {
  background: rgba(30, 58, 138, 0.2);
  backdrop-filter: blur(10px);
}

:root.dark-blue ::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.8), rgba(29, 78, 216, 0.8));
  border: 1px solid rgba(59, 130, 246, 0.3);
}

:root.dark-blue ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, rgba(59, 130, 246, 1), rgba(29, 78, 216, 1));
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
}

/* Pink theme scrollbar */
:root.pink ::-webkit-scrollbar-track {
  background: rgba(252, 231, 243, 0.8);
  backdrop-filter: blur(10px);
}

:root.pink ::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.7), rgba(249, 115, 22, 0.7));
  border: 1px solid rgba(236, 72, 153, 0.2);
}

:root.pink ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.9), rgba(249, 115, 22, 0.9));
  box-shadow: 0 2px 8px rgba(236, 72, 153, 0.3);
}

/* Yellow theme scrollbar */
:root.yellow ::-webkit-scrollbar-track {
  background: rgba(254, 243, 199, 0.8);
  backdrop-filter: blur(10px);
}

:root.yellow ::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.7), rgba(239, 68, 68, 0.7));
  border: 1px solid rgba(245, 158, 11, 0.2);
}

:root.yellow ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.9), rgba(239, 68, 68, 0.9));
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
}

/* Green theme scrollbar */
:root.green ::-webkit-scrollbar-track {
  background: rgba(220, 252, 231, 0.8);
  backdrop-filter: blur(10px);
}

:root.green ::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.7), rgba(59, 130, 246, 0.7));
  border: 1px solid rgba(34, 197, 94, 0.2);
}

:root.green ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.9), rgba(59, 130, 246, 0.9));
  box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3);
}

/* Leaderboard specific scrollbar styling */
.leaderboard-container::-webkit-scrollbar {
  width: 6px;
}

.leaderboard-container::-webkit-scrollbar-track {
  background: var(--card-secondary);
  border-radius: 3px;
  margin: 4px 0;
}

.leaderboard-container::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--theme-primary)50, var(--theme-secondary)50);
  border-radius: 3px;
  transition: all 0.2s ease;
}

.leaderboard-container::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--theme-primary)70, var(--theme-secondary)70);
}

/* Chat messages scrollbar (override existing styles) */
.chat-messages::-webkit-scrollbar {
  width: 6px;
}

.chat-messages::-webkit-scrollbar-track {
  background: var(--card-secondary);
  border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--theme-primary)50, var(--theme-secondary)50);
  border-radius: 3px;
  transition: all 0.2s ease;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--theme-primary)70, var(--theme-secondary)70);
}

/* Custom scrollable elements */
.custom-scrollable {
  scrollbar-width: thin;
  scrollbar-color: var(--theme-primary)60 var(--card-secondary);
}

.custom-scrollable::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.custom-scrollable::-webkit-scrollbar-track {
  background: var(--card-secondary);
  border-radius: 4px;
}

.custom-scrollable::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--theme-primary)60, var(--theme-secondary)60);
  border-radius: 4px;
  border: 1px solid var(--glass-border);
  transition: all 0.3s ease;
}

.custom-scrollable::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--theme-primary)80, var(--theme-secondary)80);
  box-shadow: 0 2px 8px var(--theme-primary)30;
}

/* Theme-specific login page enhancements */

/* Dark theme login */
:root.dark .login-card {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(96, 165, 250, 0.15);
}

:root.dark .floating-element {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.2), rgba(167, 139, 250, 0.2));
}

/* Dark Blue theme login */
:root.dark-blue .login-card {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(59, 130, 246, 0.2);
}

:root.dark-blue .floating-element {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.25), rgba(29, 78, 216, 0.2));
}

/* Pink theme login */
:root.pink .login-card {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(236, 72, 153, 0.2);
}

:root.pink .floating-element {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.25), rgba(249, 115, 22, 0.2));
}

/* Yellow theme login */
:root.yellow .login-card {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(245, 158, 11, 0.2);
}

:root.yellow .floating-element {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.25), rgba(239, 68, 68, 0.2));
}

/* Green theme login */
:root.green .login-card {
  box-shadow: var(--soft-shadow), 0 0 80px rgba(34, 197, 94, 0.2);
}

:root.green .floating-element {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.25), rgba(59, 130, 246, 0.2));
}

/* Theme-specific file upload colors */
:root.pink .modern-file-upload .file-upload-button {
  background: linear-gradient(135deg, #ec4899, #f97316);
  box-shadow: 0 4px 15px rgba(236, 72, 153, 0.3);
}

:root.yellow .modern-file-upload .file-upload-button {
  background: linear-gradient(135deg, #f59e0b, #ef4444);
  box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
}

:root.green .modern-file-upload .file-upload-button {
  background: linear-gradient(135deg, #22c55e, #3b82f6);
  box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
}

:root.dark-blue .modern-file-upload .file-upload-button {
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
}

/* ========================================
   ENHANCED RESPONSIVE LAYOUT SYSTEM
   ======================================== */

/* Enhanced Desktop-first Grid Layout System */
.container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 320px;
  grid-template-areas: "main sidebar";
  gap: 32px;
  align-items: start;
  justify-content: center;
  padding: 32px;
  min-height: calc(100vh - 64px);
}

.main-panel {
  grid-area: main;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
  min-height: 600px;
}

.side-panel {
  grid-area: sidebar;
  width: 100%;
  max-width: 320px;
  min-width: 280px;
  max-height: 80vh;
  overflow: hidden;
  padding: 16px;
  position: sticky;
  top: 32px;
}

/* Enhanced Flexbox Layouts for Better Element Justification */
.flex-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
}

.flex-column {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}

.flex-row {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

/* Grid Layouts for Consistent Spacing */
.grid-2 {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.grid-3 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}

.grid-auto {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

/* Enhanced Responsive Spacing System */
.spacing-xs { gap: 4px; }
.spacing-sm { gap: 8px; }
.spacing-md { gap: 16px; }
.spacing-lg { gap: 24px; }
.spacing-xl { gap: 32px; }
.spacing-2xl { gap: 48px; }

.padding-xs { padding: 4px; }
.padding-sm { padding: 8px; }
.padding-md { padding: 16px; }
.padding-lg { padding: 24px; }
.padding-xl { padding: 32px; }
.padding-2xl { padding: 48px; }

.margin-xs { margin: 4px; }
.margin-sm { margin: 8px; }
.margin-md { margin: 16px; }
.margin-lg { margin: 24px; }
.margin-xl { margin: 32px; }
.margin-2xl { margin: 48px; }

/* Enhanced Responsive Utilities */
.desktop-only { display: block; }
.tablet-only { display: none; }
.mobile-only { display: none; }

.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }

.w-full { width: 100%; }
.w-auto { width: auto; }
.w-fit { width: fit-content; }

.max-w-xs { max-width: 320px; }
.max-w-sm { max-width: 480px; }
.max-w-md { max-width: 640px; }
.max-w-lg { max-width: 800px; }
.max-w-xl { max-width: 1024px; }
.max-w-full { max-width: 100%; }

/* Enhanced Button Layouts */
.btn-group {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
}

.btn-group-vertical {
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: stretch;
}

.btn-group-horizontal {
  display: flex;
  flex-direction: row;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

/* Enhanced Card Layouts */
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 24px;
  align-items: start;
  justify-content: center;
}

.card-flex {
  display: flex;
  gap: 24px;
  align-items: start;
  flex-wrap: wrap;
  justify-content: center;
}

/* Enhanced Content Containers */
.content-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
  width: 100%;
}

.section-container {
  margin-bottom: 48px;
}

/* Enhanced Form Layouts */
.form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  align-items: start;
}

.form-row {
  display: flex;
  gap: 16px;
  align-items: end;
  flex-wrap: wrap;
}

/* Enhanced Navigation Layouts */
.nav-horizontal {
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
}

.nav-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  align-items: center;
}

/* Enhanced Responsive Typography */
.text-xs { font-size: 12px; line-height: 1.4; }
.text-sm { font-size: 14px; line-height: 1.4; }
.text-base { font-size: 16px; line-height: 1.5; }
.text-lg { font-size: 18px; line-height: 1.5; }
.text-xl { font-size: 20px; line-height: 1.5; }
.text-2xl { font-size: 24px; line-height: 1.4; }
.text-3xl { font-size: 30px; line-height: 1.3; }
.text-4xl { font-size: 36px; line-height: 1.2; }

/* ========================================
   RESPONSIVE BREAKPOINTS
   ======================================== */

/* Large Desktop (1200px+) */
@media (min-width: 1200px) {
  .container {
    grid-template-columns: 1fr 360px;
    gap: 40px;
    padding: 40px;
    max-width: 1400px;
  }

  .main-panel {
    padding: 40px;
  }

  .side-panel {
    max-width: 360px;
    min-width: 320px;
  }

  .clock-wrap {
    width: 400px;
  }

  .content-container {
    max-width: 1400px;
    padding: 0 32px;
  }

  .section-container {
    margin-bottom: 64px;
  }

  .card-grid {
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 32px;
  }

  .card-flex {
    gap: 32px;
  }

  /* Enhanced spacing for large screens */
  .spacing-lg { gap: 32px; }
  .spacing-xl { gap: 40px; }
  .spacing-2xl { gap: 64px; }
  
  .padding-lg { padding: 32px; }
  .padding-xl { padding: 40px; }
  .padding-2xl { padding: 64px; }
  
  .margin-lg { margin: 32px; }
  .margin-xl { margin: 40px; }
  .margin-2xl { margin: 64px; }

  /* Enhanced typography for large screens */
  .text-lg { font-size: 20px; }
  .text-xl { font-size: 22px; }
  .text-2xl { font-size: 28px; }
  .text-3xl { font-size: 36px; }
  .text-4xl { font-size: 42px; }
}

/* Medium Desktop (900px - 1199px) */
@media (min-width: 900px) and (max-width: 1199px) {
  .container {
    grid-template-columns: 1fr 300px;
    gap: 28px;
    padding: 28px;
  }

  .main-panel {
    padding: 28px;
  }

  .side-panel {
    max-width: 300px;
    min-width: 260px;
  }

  .clock-wrap {
    width: 340px;
  }
}

/* Tablet Layout (768px - 899px) */
@media (min-width: 768px) and (max-width: 899px) {
  .container {
    grid-template-columns: 1fr;
    grid-template-areas: 
      "main"
      "sidebar";
    gap: 24px;
    padding: 24px;
    max-width: 100%;
  }

  .main-panel {
    order: 1;
    padding: 24px;
    min-height: auto;
  }

  .side-panel {
    order: 2;
    position: static;
    max-width: 100%;
    min-width: auto;
    max-height: 400px;
    width: 100%;
  }

  .clock-wrap {
    width: 320px;
    max-width: 90vw;
  }

  .desktop-only { display: none; }
  .tablet-only { display: block; }
  .mobile-only { display: none; }

  /* Enhanced grid layouts for tablet */
  .grid-3 {
    grid-template-columns: repeat(2, 1fr);
  }

  .grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
}

/* Mobile Layout (below 768px) */
@media (max-width: 767px) {
  .container {
    grid-template-columns: 1fr;
    grid-template-areas: 
      "main"
      "sidebar";
    gap: 20px;
    padding: 16px;
    margin: 0;
  }

  .main-panel {
    order: 1;
    padding: 20px;
    min-height: auto;
  }

  .side-panel {
    order: 2;
    position: static;
    max-width: 100%;
    min-width: auto;
    max-height: 350px;
    width: 100%;
    padding: 12px;
  }

  .clock-wrap {
    width: 280px;
    max-width: 85vw;
  }

  .desktop-only { display: none; }
  .tablet-only { display: none; }
  .mobile-only { display: block; }

  .content-container {
    padding: 0 16px;
  }

  .section-container {
    margin-bottom: 32px;
  }

  /* Mobile-optimized layouts */
  .flex-container {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }

  .flex-row {
    flex-direction: column;
    gap: 12px;
  }

  .grid-2,
  .grid-3 {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .grid-auto {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .card-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .card-flex {
    flex-direction: column;
    gap: 16px;
  }

  .form-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .form-row {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }

  .nav-horizontal {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }

  .nav-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }

  .btn-group {
    flex-direction: column;
    gap: 8px;
  }
  
  .btn-group .btn {
    width: 100%;
    justify-content: center;
  }
  
  .btn-group-horizontal {
    flex-direction: column;
    gap: 8px;
  }

  .text-left-mobile { text-align: left; }
  .text-center-mobile { text-align: center; }
  .text-right-mobile { text-align: right; }

  /* Adjust spacing for mobile */
  .spacing-lg { gap: 16px; }
  .spacing-xl { gap: 20px; }
  .spacing-2xl { gap: 32px; }
  
  .padding-lg { padding: 16px; }
  .padding-xl { padding: 20px; }
  .padding-2xl { padding: 32px; }
  
  .margin-lg { margin: 16px; }
  .margin-xl { margin: 20px; }
  .margin-2xl { margin: 32px; }

  /* Enhanced typography for mobile */
  .text-lg { font-size: 17px; }
  .text-xl { font-size: 18px; }
  .text-2xl { font-size: 20px; }
  .text-3xl { font-size: 24px; }
  .text-4xl { font-size: 28px; }
}

/* Small Mobile (below 480px) */
@media (max-width: 480px) {
  .container {
    padding: 12px;
  }

  .content-container {
    padding: 0 12px;
  }

  .section-container {
    margin-bottom: 24px;
  }

  /* Adjust spacing for small mobile */
  .spacing-md { gap: 12px; }
  .spacing-lg { gap: 14px; }
  .spacing-xl { gap: 16px; }
  .spacing-2xl { gap: 24px; }
  
  .padding-md { padding: 12px; }
  .padding-lg { padding: 14px; }
  .padding-xl { padding: 16px; }
  .padding-2xl { padding: 24px; }
  
  .margin-md { margin: 12px; }
  .margin-lg { margin: 14px; }
  .margin-xl { margin: 16px; }
  .margin-2xl { margin: 24px; }

  /* Enhanced typography for small mobile */
  .text-base { font-size: 15px; }
  .text-lg { font-size: 16px; }
  .text-xl { font-size: 17px; }
  .text-2xl { font-size: 18px; }
  .text-3xl { font-size: 20px; }
  .text-4xl { font-size: 24px; }
}

/* ========================================
   ENHANCED THEME SELECTOR SYSTEM
   ======================================== */

.theme-selector {
  display: flex;
  gap: 4px;
  padding: 4px;
  background: var(--glass);
  border-radius: 12px;
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  transition: all 0.3s ease;
}

.theme-selector:hover {
  border-color: var(--theme-primary)30;
  box-shadow: 0 4px 15px var(--theme-primary)20;
}

.theme-btn {
  padding: 8px 10px;
  border: none;
  border-radius: 8px;
  background: transparent;
  color: var(--primary);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: all 0.2s ease;
  min-width: 36px;
  min-height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

.theme-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--theme-primary)10, var(--theme-secondary)10);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.theme-btn.active {
  background: var(--theme-primary);
  color: white;
  box-shadow: 0 2px 8px var(--theme-primary)40;
  transform: scale(1.05);
}

.theme-btn:hover:not(.active) {
  background: var(--card-secondary);
  transform: translateY(-1px);
}

.theme-btn:hover:not(.active)::before {
  opacity: 1;
}

.theme-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.theme-btn:disabled:hover {
  transform: none;
  background: transparent;
}

/* Responsive theme selector adjustments */
@media (max-width: 767px) {
  .theme-selector {
    padding: 6px;
    gap: 2px;
    justify-content: center;
    width: 100%;
  }
  
  .theme-btn {
    min-width: 32px;
    min-height: 32px;
    padding: 6px 8px;
    font-size: 12px;
  }
}

@media (max-width: 480px) {
  .theme-selector {
    padding: 4px;
    gap: 1px;
  }
  
  .theme-btn {
    min-width: 28px;
    min-height: 28px;
    padding: 4px 6px;
    font-size: 11px;
  }
}

/* ========================================
   ACCESSIBILITY AND PERFORMANCE
   ======================================== */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .container {
    border: 2px solid var(--primary);
  }
  
  .theme-btn {
    border: 2px solid var(--primary);
  }
  
  .card-grid > *,
  .card-flex > * {
    border: 2px solid var(--primary);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .container,
  .flex-container,
  .flex-center,
  .flex-column,
  .flex-row,
  .theme-selector,
  .theme-btn {
    transition: none !important;
    animation: none !important;
  }
  
  .theme-btn:hover {
    transform: none !important;
  }
}

/* Touch-specific optimizations */
@media (hover: none) and (pointer: coarse) {
  .theme-btn:hover {
    transform: none;
  }

  .theme-btn:active {
    transform: scale(0.95);
  }

  .btn-group .btn:hover {
    transform: none;
  }

  .btn-group .btn:active {
    transform: scale(0.95);
  }
}

/* Print styles */
@media print {
  .container {
    grid-template-columns: 1fr;
    gap: 16px;
    padding: 16px;
  }
  
  .side-panel {
    display: none;
  }
  
  .theme-selector {
    display: none;
  }
  
  .btn-group {
    display: none;
  }
}


/* ========================================
   COMPREHENSIVE MOBILE & TABLET RESPONSIVE STYLES
   ======================================== */

/* Tablet Landscape (768px - 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  body {
    padding: 16px;
    font-size: 15px;
  }

  .container {
    max-width: 100%;
    padding: 16px;
    gap: 16px;
  }

  .card {
    padding: 20px;
    border-radius: 16px;
  }

  .clock-wrap {
    width: 280px;
    max-width: 80vw;
  }

  .timer {
    padding: 16px;
  }

  .btn {
    padding: 10px 18px;
    font-size: 14px;
    min-height: 44px;
  }
}

/* Tablet Portrait & Mobile Landscape (481px - 767px) */
@media (min-width: 481px) and (max-width: 767px) {
  body {
    padding: 12px;
    font-size: 14px;
  }

  .container {
    flex-direction: column;
    padding: 12px;
    gap: 12px;
  }

  .card {
    padding: 16px;
    border-radius: 14px;
  }

  .clock-wrap {
    width: 240px;
    max-width: 75vw;
  }

  .timer {
    padding: 14px;
    margin-top: 16px;
  }

  .btn {
    padding: 12px 20px;
    font-size: 14px;
    min-height: 44px;
    width: 100%;
  }

  h1, h2, h3, h4 {
    font-size: 90%;
  }
}

/* Mobile Portrait (320px - 480px) */
@media (max-width: 480px) {
  body {
    padding: 8px;
    font-size: 14px;
    min-height: 100vh;
  }

  .container {
    flex-direction: column;
    padding: 8px;
    gap: 12px;
    max-width: 100%;
  }

  .card {
    padding: 14px;
    border-radius: 12px;
    margin-bottom: 12px;
  }

  .modern-card {
    padding: 16px;
  }

  .clock-wrap {
    width: 200px;
    max-width: 70vw;
    padding: 16px;
  }

  .timer {
    padding: 12px;
    margin-top: 12px;
    border-radius: 12px;
  }

  .timer > div:first-child {
    font-size: 15px;
  }

  .confirm-area {
    padding: 16px !important;
    gap: 12px !important;
  }

  .btn {
    padding: 12px 16px;
    font-size: 14px;
    min-height: 44px;
    width: 100%;
    border-radius: 10px;
  }

  h1 {
    font-size: 22px;
  }

  h2 {
    font-size: 20px;
  }

  h3 {
    font-size: 17px;
  }

  h4 {
    font-size: 15px;
  }

  /* Touch-friendly spacing */
  button, a, input, select {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent text from being too small */
  input, textarea, select {
    font-size: 16px !important; /* Prevents zoom on iOS */
  }
}

/* Extra Small Mobile (below 375px) */
@media (max-width: 374px) {
  body {
    padding: 6px;
    font-size: 13px;
  }

  .card {
    padding: 12px;
    border-radius: 10px;
  }

  .clock-wrap {
    width: 180px;
    padding: 12px;
  }

  .timer {
    padding: 10px;
  }

  .btn {
    padding: 10px 14px;
    font-size: 13px;
  }

  h1 {
    font-size: 20px;
  }

  h2 {
    font-size: 18px;
  }

  h3 {
    font-size: 16px;
  }
}

/* Landscape orientation optimizations */
@media (max-height: 500px) and (orientation: landscape) {
  body {
    padding: 8px;
  }

  .container {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 8px;
  }

  .card {
    padding: 12px;
  }

  .clock-wrap {
    width: 160px;
  }

  .timer {
    padding: 10px;
  }

  .confirm-area {
    padding: 12px !important;
    gap: 8px !important;
  }
}

/* iOS Safe Area Support */
@supports (padding: max(0px)) {
  body {
    padding-left: max(8px, env(safe-area-inset-left));
    padding-right: max(8px, env(safe-area-inset-right));
    padding-top: max(8px, env(safe-area-inset-top));
    padding-bottom: max(8px, env(safe-area-inset-bottom));
  }
}

/* Prevent horizontal scroll on mobile */
@media (max-width: 767px) {
  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  * {
    max-width: 100%;
  }

  img {
    max-width: 100%;
    height: auto;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  /* Larger touch targets */
  button, a, input[type="checkbox"], input[type="radio"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Remove hover effects on touch devices */
  .btn:hover,
  .card:hover {
    transform: none;
  }

  /* Better tap feedback */
  button:active, a:active {
    opacity: 0.7;
    transform: scale(0.98);
  }
}
